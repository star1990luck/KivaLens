function cameraTransformForCell(e){var t=Math.floor(e/snowstack_options.rows),n=e-t*snowstack_options.rows,o=(t+.5)*CXSPACING,i=(n+.5)*CYSPACING;return magnifyMode?vfx.translate3d(-o,-i,180):vfx.translate3d(-o,-i,0)}function layoutElement(e,t,n){var o=Math.min(CHEIGHT/n,CWIDTH/t);t*=o,n*=o,e.style.width=Math.round(t)+"px",e.style.height=Math.round(n)+"px",e.style.left=Math.round((CWIDTH-t)/2)+"px",e.style.top=Math.round((CHEIGHT-n)/2)+"px"}function play_video(e){currentVideo&&!currentVideo.isPaused()&&currentVideo.setMuted(!0),currentVideo=e,currentVideo.setMuted(!1),currentVideo.play()}function html5video(e,t){var n=vfx.elem("video",{"class":"media"}),o=function(t){return layoutElement(n,n.videoWidth,n.videoHeight),e.parentNode.appendChild(n),e.parentNode.removeChild(e),!1},i=function(e){return play_video(t.video),!1};n.addEventListener("loadedmetadata",o,!1),n.addEventListener("canplay",i,!1),n.src=t.info.video,n.load(),t.video={play:function(){n.play()},pause:function(){n.pause()},isPaused:function(){return n.paused},setMuted:function(e){n.muted=e},isMuted:function(){return n.muted}}}function refreshImage(e,t){return zoomTimer&&clearTimeout(zoomTimer),t.video?void((t.video.isPaused()||t.video.isMuted())&&play_video(t.video)):void(zoomTimer=setTimeout(function(){t.info.zoom&&!t.video&&(e.src=t.info.zoom),zoomTimer=null},2e3))}function setcellclass(e,t){e.div.className=t,e.reflection&&(e.reflection.className=t)}function snowstack_togglemedia(e){var t=cells[e];return t.video?void(t.video.isPaused()?play_video(t.video):t.video.pause()):void(t.info.videoloader?t.info.videoloader(t.divimage,t):t.info.video&&html5video(t.divimage,t))}function snowstack_update(e,t){if(currentCellIndex!=e||magnifyMode!=t){if(-1!=currentCellIndex){var n=cells[currentCellIndex];setcellclass(n,"cell")}if(0!==cells.length){e=Math.min(Math.max(e,0),cells.length-1),currentCellIndex=e;var o=cells[e];magnifyMode=t,magnifyMode?(newbieUser&&(newbieUser=!1),o.div.className="cell magnify",snowstack_options.refreshzoom&&refreshImage(o.divimage,o)):setcellclass(o,"cell selected"),snowstack_options.captions&&!newbieUser&&(caption.innerText=o.info.title),dolly.style.webkitTransform=cameraTransformForCell(e);var i=new WebKitCSSMatrix(document.defaultView.getComputedStyle(dolly,null).webkitTransform),a=new WebKitCSSMatrix(dolly.style.webkitTransform),r=i.m41-a.m41,s=45*Math.min(Math.max(r/(3*CXSPACING),-1),1);camera.style.webkitTransform="rotateY("+s+"deg)",camera.style.webkitTransitionDuration="330ms",currentTimer&&clearTimeout(currentTimer),currentTimer=setTimeout(function(){camera.style.webkitTransform="rotateY(0)",camera.style.webkitTransitionDuration="5s"},330)}}}function snowstack_addimage(e){function t(){var e=vfx.elem("div",{"class":"cell",style:"width: "+CWIDTH+"px; height: "+CHEIGHT+"px"});return e.style.webkitTransform=vfx.translate3d(i*CXSPACING,a*CYSPACING,0),e}var n={},o=cells.length;cells.push(n);var i=Math.floor(o/snowstack_options.rows),a=o-i*snowstack_options.rows;if("string"==typeof e){var r=e;e={thumb:r,zoom:r,title:""}}n.info=e,n.div=t(),n.divimage=vfx.elem("img",{"class":"media"}),vfx.loadhandler(n.divimage,function(){layoutElement(n.divimage,n.divimage.width,n.divimage.height),n.info.link?n.div.appendChild(vfx.elem("a",{"class":"mover view",href:n.info.link,target:"_blank"},n.divimage)):n.div.appendChild(vfx.elem("div",{"class":"mover view"},n.divimage)),n.div.style.opacity=1}),n.div.style.opacity=0,cellstack.appendChild(n.div),n.divimage.src=e.thumb,a==snowstack_options.rows-1&&(n.reflection=t(),n.reflectionimage=vfx.elem("img",{"class":"media reflection"}),vfx.loadhandler(n.reflectionimage,function(){layoutElement(n.reflectionimage,n.reflectionimage.width,n.reflectionimage.height),n.reflection.appendChild(vfx.elem("div",{"class":"mover view"},n.reflectionimage)),n.reflection.style.opacity=1}),n.reflection.style.opacity=0,reflectionstack.appendChild(n.reflection),n.reflectionimage.src=e.thumb)}function snowstack_sort(e){var t;t="date"==e?function(e,t){var n=new Date("1 "+e.info.date),o=new Date("1 "+t.info.date);return o-n}:function(t,n){var o=t.info[e],i=n.info[e];return o>i?1:i>o?-1:0},cells.sort(t);for(var n=0;n<cells.length;++n){var o=Math.floor(n/snowstack_options.rows),i=n-o*snowstack_options.rows;cells[n].div.style.webkitTransform=vfx.translate3d(o*CXSPACING,i*CYSPACING,0)}}function snowstack_startsearch(){camera.style.webkitTransform="translate3d(0, 0, -500px)",camera.style.webkitTransitionDuration="1s"}function snowstack_endsearch(){camera.style.webkitTransform=""}function snowstack_search(e,t){t.length?snowstack_startsearch():snowstack_endsearch();for(var n=new RegExp(t,"i"),o=0;o<cells.length;++o){var i;i=t.length?-1!=cells[o].info[e].search(n):!0,cells[o].div.style.opacity=i?1:.2}}var global=this,CWIDTH,CHEIGHT,CGAP=10,CXSPACING,CYSPACING,snowstack_options={rows:3,refreshzoom:!0,captions:!1},vfx={elem:function(e,t,n){var o=document.createElement(e);if(t)for(var i in t)t.hasOwnProperty(i)&&o.setAttribute(i,t[i]);return n&&o.appendChild(n),o},byid:function(e){return document.getElementById(e)},loadhandler:function(e,t){e.addEventListener("load",t,!1)},translate3d:function(e,t,n){return"translate3d("+e+"px, "+t+"px, "+n+"px)"}},currentCellIndex=-1,cells=[],dolly,camera,caption,cellstack,reflectionstack,magnifyMode,newbieUser=!0,zoomTimer=null,currentTimer=null,currentVideo=null;global.snowstack_init=function(e,t){function n(){var t=currentCellIndex;c.left&&t>=snowstack_options.rows&&(t-=snowstack_options.rows),c.right&&(t+snowstack_options.rows<cells.length?t+=snowstack_options.rows:a||(a=!0,e(function(e){e.forEach(snowstack_addimage),a=!1}))),c.up&&(t-=1),c.down&&(t+=1),snowstack_update(t,magnifyMode)}function o(){n(),f=setTimeout(o,u),u=60}function i(){c.left||c.right||c.up||c.down?null===f&&(u=330,o()):(clearTimeout(f),f=null)}var a=!0;camera=vfx.byid("camera"),reflectionstack=vfx.elem("div",{"class":"view"});var r=vfx.elem("div",{"class":"view"},reflectionstack);for(cellstack=vfx.elem("div",{"class":"view"}),dolly=vfx.elem("div",{"class":"dolly view"}),dolly.appendChild(cellstack),dolly.appendChild(r);camera.hasChildNodes();)camera.removeChild(camera.firstChild);if(camera.appendChild(dolly),t)for(var s in t)t.hasOwnProperty(s)&&(snowstack_options[s]=t[s]);if("function"!=typeof e){var l=e;e=function(e){e(l),l=[]}}CHEIGHT=Math.round(window.innerHeight/(snowstack_options.rows+2)),CWIDTH=Math.round(300*CHEIGHT/180),CXSPACING=CWIDTH+CGAP,CYSPACING=CHEIGHT+CGAP,r.style.webkitTransform="scaleY(-1.0) "+vfx.translate3d(0,-CYSPACING*(2*snowstack_options.rows)-1,0),e(function(e){e.forEach(snowstack_addimage),snowstack_update(Math.floor(snowstack_options.rows/2),!1),a=!1});var c={left:!1,right:!1,up:!1,down:!1},d={37:"left",38:"up",39:"right",40:"down"},f=null,u=330;window.addEventListener("keydown",function(e){32==e.keyCode?snowstack_update(currentCellIndex,!magnifyMode):13==e.keyCode?snowstack_togglemedia(currentCellIndex):c[d[e.keyCode]]=!0,i()}),window.addEventListener("keyup",function(e){c[d[e.keyCode]]=!1,i()});var m=0,v=0,w=document.getElementById("camera");w.addEventListener("touchstart",function(e){return m=event.touches[0].pageX,v=m,e.preventDefault(),!1},!1),w.addEventListener("touchmove",function(e){v=event.touches[0].pageX;var t=v-m;return c.left=t>20,c.right=20>t,n(),m=v,e.preventDefault(),!1},!0),w.addEventListener("touchend",function(e){return c.left=!1,c.right=!1,e.preventDefault(),!1},!0)};
!function(t){var e=t;e.version="0.8.5",e.protocol=1,e.transports=[],e.j=[],e.sockets={},e.connect=function(t,n){var o,i,r=e.util.parseUri(t);"undefined"!=typeof document&&(r.protocol=r.protocol||document.location.protocol.slice(0,-1),r.host=r.host||document.domain,r.port=r.port||document.location.port),o=e.util.uniqueUri(r);var s={host:r.host,secure:"https"==r.protocol,port:r.port||("https"==r.protocol?443:80),query:r.query||""};return e.util.merge(s,n),(s["force new connection"]||!e.sockets[o])&&(i=new e.Socket(s)),!s["force new connection"]&&i&&(e.sockets[o]=i),i=i||e.sockets[o],i.of(r.path.length>1?r.path:"")}}("object"==typeof module?module.exports:window.io={}),function(t,e){var n=t.util={},o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(t){for(var e=o.exec(t||""),n={},r=14;r--;)n[i[r]]=e[r]||"";return n},n.uniqueUri=function(t){var n=t.protocol,o=t.host,i=t.port;return"document"in e?(o=o||document.domain,i=i||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(o=o||"localhost",i||"https"!=n||(i=443)),(n||"http")+"://"+o+":"+(i||80)},n.query=function(t,e){var o=n.chunkQuery(t||""),i=[];n.merge(o,n.chunkQuery(e||""));for(var r in o)o.hasOwnProperty(r)&&i.push(r+"="+o[r]);return i.length?"?"+i.join("&"):""},n.chunkQuery=function(t){for(var e,n={},o=t.split("&"),i=0,r=o.length;r>i;++i)e=o[i].split("="),e[0]&&(n[e[0]]=decodeURIComponent(e[1]));return n};var r=!1;n.load=function(t){return"document"in e&&"complete"===document.readyState||r?t():void n.on(e,"load",t,!1)},n.on=function(t,e,n,o){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,o)},n.request=function(t){if("undefined"!=typeof window){if(t&&window.XDomainRequest)return new XDomainRequest;if(window.XMLHttpRequest&&(!t||n.ua.hasCORS))return new XMLHttpRequest;if(!t)try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return null},"undefined"!=typeof window&&n.load(function(){r=!0}),n.defer=function(t){return n.ua.webkit?void n.load(function(){setTimeout(t,100)}):t()},n.merge=function(t,e,o,i){var r,s=i||[],c="undefined"==typeof o?2:o;for(r in e)e.hasOwnProperty(r)&&n.indexOf(s,r)<0&&("object"==typeof t[r]&&c?n.merge(t[r],e[r],c-1,s):(t[r]=e[r],s.push(e[r])));return t},n.mixin=function(t,e){n.merge(t.prototype,e.prototype)},n.inherit=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.intersect=function(t,e){for(var o=[],i=t.length>e.length?t:e,r=t.length>e.length?e:t,s=0,c=r.length;c>s;s++)~n.indexOf(i,r[s])&&o.push(r[s]);return o},n.indexOf=function(t,e,n){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(var o=t.length,n=0>n?0>n+o?0:n+o:n||0;o>n&&t[n]!==e;n++);return n>=o?-1:n},n.toArray=function(t){for(var e=[],n=0,o=t.length;o>n;n++)e.push(t[n]);return e},n.ua={},n.ua.hasCORS="undefined"!=typeof window&&window.XMLHttpRequest&&function(){try{var t=new XMLHttpRequest}catch(e){return!1}return void 0!=t.withCredentials}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)}("undefined"!=typeof window?io:module.exports,this),function(t,e){function n(){}t.EventEmitter=n,n.prototype.on=function(t,n){return this.$events||(this.$events={}),this.$events[t]?e.util.isArray(this.$events[t])?this.$events[t].push(n):this.$events[t]=[this.$events[t],n]:this.$events[t]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){function n(){o.removeListener(t,n),e.apply(this,arguments)}var o=this;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,n){if(this.$events&&this.$events[t]){var o=this.$events[t];if(e.util.isArray(o)){for(var i=-1,r=0,s=o.length;s>r;r++)if(o[r]===n||o[r].listener&&o[r].listener===n){i=r;break}if(0>i)return this;o.splice(i,1),o.length||delete this.$events[t]}else(o===n||o.listener&&o.listener===n)&&delete this.$events[t]}return this},n.prototype.removeAllListeners=function(t){return this.$events&&this.$events[t]&&(this.$events[t]=null),this},n.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),e.util.isArray(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},n.prototype.emit=function(t){if(!this.$events)return!1;var n=this.$events[t];if(!n)return!1;var o=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,o);else{if(!e.util.isArray(n))return!1;for(var i=n.slice(),r=0,s=i.length;s>r;r++)i[r].apply(this,o)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){"use strict";function f(t){return 10>t?"0"+t:t}function date(t,e){return isFinite(t.valueOf())?t.getUTCFullYear()+"-"+f(t.getUTCMonth()+1)+"-"+f(t.getUTCDate())+"T"+f(t.getUTCHours())+":"+f(t.getUTCMinutes())+":"+f(t.getUTCSeconds())+"Z":null}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,o,i,r,s,c=gap,a=e[t];switch(a instanceof Date&&(a=date(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(a)){for(r=a.length,n=0;r>n;n+=1)s[n]=str(n,a)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+c+"]":"["+s.join(",")+"]",gap=c,i}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(o=rep[n],i=str(o,a),i&&s.push(quote(o)+(gap?": ":":")+i));else for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i=str(o,a),i&&s.push(quote(o)+(gap?": ":":")+i));return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+c+"}":"{"+s.join(",")+"}",gap=c,i}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(t,e,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;n>o;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})},JSON.parse=function(text,reviver){function walk(t,e){var n,o,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o=walk(i,n),void 0!==o?i[n]=o:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(t,e){var n=t.parser={},o=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],i=n.reasons=["transport not supported","client not handshaken","unauthorized"],r=n.advice=["reconnect"],s=e.JSON,c=e.util.indexOf;n.encodePacket=function(t){var e=c(o,t.type),n=t.id||"",a=t.endpoint||"",p=t.ack,u=null;switch(t.type){case"error":var h=t.reason?c(i,t.reason):"",f=t.advice?c(r,t.advice):"";(""!==h||""!==f)&&(u=h+(""!==f?"+"+f:""));break;case"message":""!==t.data&&(u=t.data);break;case"event":var l={name:t.name};t.args&&t.args.length&&(l.args=t.args),u=s.stringify(l);break;case"json":u=s.stringify(t.data);break;case"connect":t.qs&&(u=t.qs);break;case"ack":u=t.ackId+(t.args&&t.args.length?"+"+s.stringify(t.args):"")}var d=[e,n+("data"==p?"+":""),a];return null!==u&&void 0!==u&&d.push(u),d.join(":")},n.encodePayload=function(t){var e="";if(1==t.length)return t[0];for(var n=0,o=t.length;o>n;n++){var i=t[n];e+="�"+i.length+"�"+t[n]}return e};var a=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(t){var e=t.match(a);if(!e)return{};var n=e[2]||"",t=e[5]||"",c={type:o[e[1]],endpoint:e[4]||""};switch(n&&(c.id=n,e[3]?c.ack="data":c.ack=!0),c.type){case"error":var e=t.split("+");c.reason=i[e[0]]||"",c.advice=r[e[1]]||"";break;case"message":c.data=t||"";break;case"event":try{var p=s.parse(t);c.name=p.name,c.args=p.args}catch(u){}c.args=c.args||[];break;case"json":try{c.data=s.parse(t)}catch(u){}break;case"connect":c.qs=t||"";break;case"ack":var e=t.match(/^([0-9]+)(\+)?(.*)/);if(e&&(c.ackId=e[1],c.args=[],e[3]))try{c.args=e[3]?s.parse(e[3]):[]}catch(u){}break;case"disconnect":case"heartbeat":}return c},n.decodePayload=function(t){if("�"==t.charAt(0)){for(var e=[],o=1,i="";o<t.length;o++)"�"==t.charAt(o)?(e.push(n.decodePacket(t.substr(o+1).substr(0,i))),o+=Number(i)+1,i=""):i+=t.charAt(o);return e}return[n.decodePacket(t)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e){function n(t,e){this.socket=t,this.sessid=e}t.Transport=n,e.util.mixin(n,e.EventEmitter),n.prototype.onData=function(t){if(this.clearCloseTimeout(),this.setCloseTimeout(),""!==t){var n=e.parser.decodePayload(t);if(n&&n.length)for(var o=0,i=n.length;i>o;o++)this.onPacket(n[o])}return this},n.prototype.onPacket=function(t){return"heartbeat"==t.type?this.onHeartbeat():("connect"==t.type&&""==t.endpoint&&this.onConnect(),this.socket.onPacket(t),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var t=this;this.closeTimeout=setTimeout(function(){t.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.close&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(t){this.send(e.parser.encodePacket(t))},n.prototype.onHeartbeat=function(t){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.open=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.open=!1,this.setCloseTimeout(),this.socket.onClose()},n.prototype.prepareUrl=function(){var t=this.socket.options;return this.scheme()+"://"+t.host+":"+t.port+"/"+t.resource+"/"+e.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(t,e){e.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,n){function o(t){if(this.options={port:80,secure:!1,document:"document"in n?document:!1,resource:"socket.io",transports:e.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843},e.util.merge(this.options,t),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||e.util.ua.hasCORS)){var o=this;e.util.on(n,"beforeunload",function(){o.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function i(){}t.Socket=o,e.util.mixin(o,e.EventEmitter),o.prototype.of=function(t){return this.namespaces[t]||(this.namespaces[t]=new e.SocketNamespace(this,t),""!==t&&this.namespaces[t].packet({type:"connect"})),this.namespaces[t]},o.prototype.publish=function(){this.emit.apply(this,arguments);var t;for(var e in this.namespaces)this.namespaces.hasOwnProperty(e)&&(t=this.of(e),t.$emit.apply(t,arguments))},o.prototype.handshake=function(t){function n(e){e instanceof Error?o.onError(e.message):t.apply(null,e.split(":"))}var o=this,r=this.options,s=["http"+(r.secure?"s":"")+":/",r.host+":"+r.port,this.options.resource,e.protocol,e.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()){var c=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=s+"&jsonp="+e.j.length,c.parentNode.insertBefore(a,c),e.j.push(function(t){n(t),a.parentNode.removeChild(a)})}else{var p=e.util.request();p.open("GET",s,!0),p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=i,200==p.status?n(p.responseText):!o.reconnecting&&o.onError(p.responseText))},p.send(null)}},o.prototype.getTransport=function(t){for(var n,o=t||this.transports,i=0;n=o[i];i++)if(e.Transport[n]&&e.Transport[n].check(this)&&(!this.isXDomain()||e.Transport[n].xdomainCheck()))return new e.Transport[n](this,this.sessionid);return null},o.prototype.connect=function(t){if(this.connecting)return this;var n=this;return this.handshake(function(o,i,r,s){function c(t){return n.transport&&n.transport.clearTimeouts(),n.transport=n.getTransport(t),n.transport?void n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){if(!n.connected&&(n.connecting=!1,n.options["try multiple transports"])){n.remainingTransports||(n.remainingTransports=n.transports.slice(0));for(var t=n.remainingTransports;t.length>0&&t.splice(0,1)[0]!=n.transport.name;);t.length?c(t):n.publish("connect_failed")}},n.options["connect timeout"]))}):n.publish("connect_failed")}n.sessionid=o,n.closeTimeout=1e3*r,n.heartbeatTimeout=1e3*i,n.transports=e.util.intersect(s.split(","),n.options.transports),c(),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),t&&"function"==typeof t&&t()})}),this},o.prototype.packet=function(t){return this.connected&&!this.doBuffer?this.transport.packet(t):this.buffer.push(t),this},o.prototype.setBuffer=function(t){this.doBuffer=t,!t&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[])},o.prototype.disconnect=function(){return this.connected&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},o.prototype.disconnectSync=function(){var t=e.util.request(),n=this.resource+"/"+e.protocol+"/"+this.sessionid;t.open("GET",n,!0),this.onDisconnect("booted")},o.prototype.isXDomain=function(){var t=window.location.port||("https:"==window.location.protocol?443:80);return this.options.host!==document.domain||this.options.port!=t},o.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},o.prototype.onOpen=function(){this.open=!0},o.prototype.onClose=function(){this.open=!1},o.prototype.onPacket=function(t){this.of(t.endpoint).onPacket(t)},o.prototype.onError=function(t){t&&t.advice&&"reconnect"===t.advice&&this.connected&&(this.disconnect(),this.reconnect()),this.publish("error",t&&t.reason?t.reason:t)},o.prototype.onDisconnect=function(t){var e=this.connected;this.connected=!1,this.connecting=!1,this.open=!1,e&&(this.transport.close(),this.transport.clearTimeouts(),this.publish("disconnect",t),"booted"!=t&&this.options.reconnect&&!this.reconnecting&&this.reconnect())},o.prototype.reconnect=function(){function t(){if(n.connected){for(var t in n.namespaces)n.namespaces.hasOwnProperty(t)&&""!==t&&n.namespaces[t].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}n.removeListener("connect_failed",e),n.removeListener("connect",e),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options["try multiple transports"]=i}function e(){return n.reconnecting?n.connected?t():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(e,1e3):void(n.reconnectionAttempts++>=o?n.redoTransports?(n.publish("reconnect_failed"),t()):(n.on("connect_failed",e),n.options["try multiple transports"]=!0,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<r&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(e,n.reconnectionDelay))):void 0}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var n=this,o=this.options["max reconnection attempts"],i=this.options["try multiple transports"],r=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(e,this.reconnectionDelay),this.on("connect",e)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e){function n(t,e){this.socket=t,this.name=e||"",this.flags={},this.json=new o(this,"json"),this.ackPackets=0,this.acks={}}function o(t,e){this.namespace=t,this.name=e}t.SocketNamespace=n,e.util.mixin(n,e.EventEmitter),n.prototype.$emit=e.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(t){return t.endpoint=this.name,this.socket.packet(t),this.flags={},this},n.prototype.send=function(t,e){var n={type:this.flags.json?"json":"message",data:t};return"function"==typeof e&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=e),this.packet(n)},n.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1),n=e[e.length-1],o={type:"event",name:t};return"function"==typeof n&&(o.id=++this.ackPackets,o.ack="data",this.acks[o.id]=n,e=e.slice(0,e.length-1)),o.args=e,this.packet(o)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(t){function n(){o.packet({type:"ack",args:e.util.toArray(arguments),ackId:t.id})}var o=this;switch(t.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(t.reason||"booted"):this.$emit("disconnect",t.reason);break;case"message":case"json":var i=["message",t.data];"data"==t.ack?i.push(n):t.ack&&this.packet({type:"ack",ackId:t.id}),this.$emit.apply(this,i);break;case"event":var i=[t.name].concat(t.args);"data"==t.ack&&i.push(n),this.$emit.apply(this,i);break;case"ack":this.acks[t.ackId]&&(this.acks[t.ackId].apply(this,t.args),delete this.acks[t.ackId]);break;case"error":t.advice?this.socket.onError(t):"unauthorized"==t.reason?this.$emit("connect_failed",t.reason):this.$emit("error",t.reason)}},o.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},o.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e){function n(t){e.Transport.apply(this,arguments)}t.websocket=n,e.util.inherit(n,e.Transport),n.prototype.name="websocket",n.prototype.open=function(){var t,n=e.util.query(this.socket.options.query),o=this;return t||(t=window.MozWebSocket||window.WebSocket),this.websocket=new t(this.prepareUrl()+n),this.websocket.onopen=function(){o.onOpen(),o.socket.setBuffer(!1)},this.websocket.onmessage=function(t){o.onData(t.data)},this.websocket.onclose=function(){o.onClose(),o.socket.setBuffer(!0)},this.websocket.onerror=function(t){o.onError(t)},this},n.prototype.send=function(t){return this.websocket.send(t),this},n.prototype.payload=function(t){for(var e=0,n=t.length;n>e;e++)this.packet(t[e]);return this},n.prototype.close=function(){return this.websocket.close(),this},n.prototype.onError=function(t){this.socket.onError(t)},n.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},n.check=function(){return"WebSocket"in window&&!("__addTask"in WebSocket)||"MozWebSocket"in window},n.xdomainCheck=function(){return!0},e.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,n){function o(t){t&&(e.Transport.apply(this,arguments),this.sendBuffer=[])}function i(){}t.XHR=o,e.util.inherit(o,e.Transport),o.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},o.prototype.payload=function(t){for(var n=[],o=0,i=t.length;i>o;o++)n.push(e.parser.encodePacket(t[o]));this.send(e.parser.encodePayload(n))},o.prototype.send=function(t){return this.post(t),this},o.prototype.post=function(t){function e(){4==this.readyState&&(this.onreadystatechange=i,r.posting=!1,200==this.status?r.socket.setBuffer(!1):r.onClose())}function o(){this.onload=i,r.socket.setBuffer(!1)}var r=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=o:this.sendXHR.onreadystatechange=e,this.sendXHR.send(t)},o.prototype.close=function(){return this.onClose(),this},o.prototype.request=function(t){var n=e.util.request(this.socket.isXDomain()),o=e.util.query(this.socket.options.query,"t="+ +new Date);if(n.open(t||"GET",this.prepareUrl()+o,!0),"POST"==t)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(i){}return n},o.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},o.check=function(t,n){try{if(e.util.request(n))return!0}catch(o){}return!1},o.xdomainCheck=function(){return o.check(null,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e){function n(t){e.Transport.XHR.apply(this,arguments)}t.htmlfile=n,e.util.inherit(n,e.Transport.XHR),n.prototype.name="htmlfile",n.prototype.get=function(){this.doc=new ActiveXObject("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var t=this.doc.createElement("div");t.className="socketio",this.doc.body.appendChild(t),this.iframe=this.doc.createElement("iframe"),t.appendChild(this.iframe);var n=this,o=e.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+o,e.util.on(window,"unload",function(){n.destroy()})},n.prototype._=function(t,e){this.onData(t);try{var n=e.getElementsByTagName("script")[0];n.parentNode.removeChild(n)}catch(o){}},n.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(t){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},n.prototype.close=function(){return this.destroy(),e.Transport.XHR.prototype.close.call(this)},n.check=function(){if("ActiveXObject"in window)try{var t=new ActiveXObject("htmlfile");return t&&e.Transport.XHR.check()}catch(n){}return!1},n.xdomainCheck=function(){return!1},e.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,n){function o(){e.Transport.XHR.apply(this,arguments)}function i(){}t["xhr-polling"]=o,e.util.inherit(o,e.Transport.XHR),e.util.merge(o,e.Transport.XHR),o.prototype.name="xhr-polling",o.prototype.open=function(){var t=this;return e.Transport.XHR.prototype.open.call(t),!1},o.prototype.get=function(){function t(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(o.onData(this.responseText),o.get()):o.onClose())}function e(){this.onload=i,o.onData(this.responseText),o.get()}if(this.open){var o=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=t,this.xhr.send(null)}},o.prototype.onClose=function(){if(e.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=i;try{this.xhr.abort()}catch(t){}this.xhr=null}},o.prototype.ready=function(t,n){var o=this;e.util.defer(function(){n.call(o)})},e.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e){function n(t){e.Transport["xhr-polling"].apply(this,arguments),this.index=e.j.length;var n=this;e.j.push(function(t){n._(t)})}t["jsonp-polling"]=n,e.util.inherit(n,e.Transport["xhr-polling"]),n.prototype.name="jsonp-polling",n.prototype.post=function(t){function n(){o(),i.socket.setBuffer(!1)}function o(){i.iframe&&i.form.removeChild(i.iframe);try{s=document.createElement('<iframe name="'+i.iframeId+'">')}catch(t){s=document.createElement("iframe"),s.name=i.iframeId}s.id=i.iframeId,i.form.appendChild(s),i.iframe=s}var i=this,r=e.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var s,c=document.createElement("form"),a=document.createElement("textarea"),p=this.iframeId="socketio_iframe_"+this.index;c.className="socketio",c.style.position="absolute",c.style.top="-1000px",c.style.left="-1000px",c.target=p,c.method="POST",c.setAttribute("accept-charset","utf-8"),a.name="d",c.appendChild(a),document.body.appendChild(c),this.form=c,this.area=a}this.form.action=this.prepareUrl()+r,o(),this.area.value=t;try{this.form.submit()}catch(u){}this.iframe.attachEvent?s.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n,this.socket.setBuffer(!0)},n.prototype.get=function(){var t=this,n=document.createElement("script"),o=e.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.prepareUrl()+o,n.onerror=function(){t.onClose()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i),this.script=n},n.prototype._=function(t){return this.onData(t),this.open&&this.get(),this},n.check=function(){return!0},n.xdomainCheck=function(){return!0},e.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNub3dzdGFjay5taW4uanMiLCJzb2NrZXQuaW8ubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEiLCJmaWxlIjoidmVuZG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY2FtZXJhVHJhbnNmb3JtRm9yQ2VsbChlKXt2YXIgdD1NYXRoLmZsb29yKGUvc25vd3N0YWNrX29wdGlvbnMucm93cyksbj1lLXQqc25vd3N0YWNrX29wdGlvbnMucm93cyxvPSh0Ky41KSpDWFNQQUNJTkcsaT0obisuNSkqQ1lTUEFDSU5HO3JldHVybiBtYWduaWZ5TW9kZT92ZngudHJhbnNsYXRlM2QoLW8sLWksMTgwKTp2ZngudHJhbnNsYXRlM2QoLW8sLWksMCl9ZnVuY3Rpb24gbGF5b3V0RWxlbWVudChlLHQsbil7dmFyIG89TWF0aC5taW4oQ0hFSUdIVC9uLENXSURUSC90KTt0Kj1vLG4qPW8sZS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKHQpK1wicHhcIixlLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKG4pK1wicHhcIixlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCgoQ1dJRFRILXQpLzIpK1wicHhcIixlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKChDSEVJR0hULW4pLzIpK1wicHhcIn1mdW5jdGlvbiBwbGF5X3ZpZGVvKGUpe2N1cnJlbnRWaWRlbyYmIWN1cnJlbnRWaWRlby5pc1BhdXNlZCgpJiZjdXJyZW50VmlkZW8uc2V0TXV0ZWQoITApLGN1cnJlbnRWaWRlbz1lLGN1cnJlbnRWaWRlby5zZXRNdXRlZCghMSksY3VycmVudFZpZGVvLnBsYXkoKX1mdW5jdGlvbiBodG1sNXZpZGVvKGUsdCl7dmFyIG49dmZ4LmVsZW0oXCJ2aWRlb1wiLHtcImNsYXNzXCI6XCJtZWRpYVwifSksbz1mdW5jdGlvbih0KXtyZXR1cm4gbGF5b3V0RWxlbWVudChuLG4udmlkZW9XaWR0aCxuLnZpZGVvSGVpZ2h0KSxlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobiksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLCExfSxpPWZ1bmN0aW9uKGUpe3JldHVybiBwbGF5X3ZpZGVvKHQudmlkZW8pLCExfTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLG8sITEpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIixpLCExKSxuLnNyYz10LmluZm8udmlkZW8sbi5sb2FkKCksdC52aWRlbz17cGxheTpmdW5jdGlvbigpe24ucGxheSgpfSxwYXVzZTpmdW5jdGlvbigpe24ucGF1c2UoKX0saXNQYXVzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXVzZWR9LHNldE11dGVkOmZ1bmN0aW9uKGUpe24ubXV0ZWQ9ZX0saXNNdXRlZDpmdW5jdGlvbigpe3JldHVybiBuLm11dGVkfX19ZnVuY3Rpb24gcmVmcmVzaEltYWdlKGUsdCl7cmV0dXJuIHpvb21UaW1lciYmY2xlYXJUaW1lb3V0KHpvb21UaW1lciksdC52aWRlbz92b2lkKCh0LnZpZGVvLmlzUGF1c2VkKCl8fHQudmlkZW8uaXNNdXRlZCgpKSYmcGxheV92aWRlbyh0LnZpZGVvKSk6dm9pZCh6b29tVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3QuaW5mby56b29tJiYhdC52aWRlbyYmKGUuc3JjPXQuaW5mby56b29tKSx6b29tVGltZXI9bnVsbH0sMmUzKSl9ZnVuY3Rpb24gc2V0Y2VsbGNsYXNzKGUsdCl7ZS5kaXYuY2xhc3NOYW1lPXQsZS5yZWZsZWN0aW9uJiYoZS5yZWZsZWN0aW9uLmNsYXNzTmFtZT10KX1mdW5jdGlvbiBzbm93c3RhY2tfdG9nZ2xlbWVkaWEoZSl7dmFyIHQ9Y2VsbHNbZV07cmV0dXJuIHQudmlkZW8/dm9pZCh0LnZpZGVvLmlzUGF1c2VkKCk/cGxheV92aWRlbyh0LnZpZGVvKTp0LnZpZGVvLnBhdXNlKCkpOnZvaWQodC5pbmZvLnZpZGVvbG9hZGVyP3QuaW5mby52aWRlb2xvYWRlcih0LmRpdmltYWdlLHQpOnQuaW5mby52aWRlbyYmaHRtbDV2aWRlbyh0LmRpdmltYWdlLHQpKX1mdW5jdGlvbiBzbm93c3RhY2tfdXBkYXRlKGUsdCl7aWYoY3VycmVudENlbGxJbmRleCE9ZXx8bWFnbmlmeU1vZGUhPXQpe2lmKC0xIT1jdXJyZW50Q2VsbEluZGV4KXt2YXIgbj1jZWxsc1tjdXJyZW50Q2VsbEluZGV4XTtzZXRjZWxsY2xhc3MobixcImNlbGxcIil9aWYoMCE9PWNlbGxzLmxlbmd0aCl7ZT1NYXRoLm1pbihNYXRoLm1heChlLDApLGNlbGxzLmxlbmd0aC0xKSxjdXJyZW50Q2VsbEluZGV4PWU7dmFyIG89Y2VsbHNbZV07bWFnbmlmeU1vZGU9dCxtYWduaWZ5TW9kZT8obmV3YmllVXNlciYmKG5ld2JpZVVzZXI9ITEpLG8uZGl2LmNsYXNzTmFtZT1cImNlbGwgbWFnbmlmeVwiLHNub3dzdGFja19vcHRpb25zLnJlZnJlc2h6b29tJiZyZWZyZXNoSW1hZ2Uoby5kaXZpbWFnZSxvKSk6c2V0Y2VsbGNsYXNzKG8sXCJjZWxsIHNlbGVjdGVkXCIpLHNub3dzdGFja19vcHRpb25zLmNhcHRpb25zJiYhbmV3YmllVXNlciYmKGNhcHRpb24uaW5uZXJUZXh0PW8uaW5mby50aXRsZSksZG9sbHkuc3R5bGUud2Via2l0VHJhbnNmb3JtPWNhbWVyYVRyYW5zZm9ybUZvckNlbGwoZSk7dmFyIGk9bmV3IFdlYktpdENTU01hdHJpeChkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGRvbGx5LG51bGwpLndlYmtpdFRyYW5zZm9ybSksYT1uZXcgV2ViS2l0Q1NTTWF0cml4KGRvbGx5LnN0eWxlLndlYmtpdFRyYW5zZm9ybSkscj1pLm00MS1hLm00MSxzPTQ1Kk1hdGgubWluKE1hdGgubWF4KHIvKDMqQ1hTUEFDSU5HKSwtMSksMSk7Y2FtZXJhLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInJvdGF0ZVkoXCIrcytcImRlZylcIixjYW1lcmEuc3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uPVwiMzMwbXNcIixjdXJyZW50VGltZXImJmNsZWFyVGltZW91dChjdXJyZW50VGltZXIpLGN1cnJlbnRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y2FtZXJhLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInJvdGF0ZVkoMClcIixjYW1lcmEuc3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uPVwiNXNcIn0sMzMwKX19fWZ1bmN0aW9uIHNub3dzdGFja19hZGRpbWFnZShlKXtmdW5jdGlvbiB0KCl7dmFyIGU9dmZ4LmVsZW0oXCJkaXZcIix7XCJjbGFzc1wiOlwiY2VsbFwiLHN0eWxlOlwid2lkdGg6IFwiK0NXSURUSCtcInB4OyBoZWlnaHQ6IFwiK0NIRUlHSFQrXCJweFwifSk7cmV0dXJuIGUuc3R5bGUud2Via2l0VHJhbnNmb3JtPXZmeC50cmFuc2xhdGUzZChpKkNYU1BBQ0lORyxhKkNZU1BBQ0lORywwKSxlfXZhciBuPXt9LG89Y2VsbHMubGVuZ3RoO2NlbGxzLnB1c2gobik7dmFyIGk9TWF0aC5mbG9vcihvL3Nub3dzdGFja19vcHRpb25zLnJvd3MpLGE9by1pKnNub3dzdGFja19vcHRpb25zLnJvd3M7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciByPWU7ZT17dGh1bWI6cix6b29tOnIsdGl0bGU6XCJcIn19bi5pbmZvPWUsbi5kaXY9dCgpLG4uZGl2aW1hZ2U9dmZ4LmVsZW0oXCJpbWdcIix7XCJjbGFzc1wiOlwibWVkaWFcIn0pLHZmeC5sb2FkaGFuZGxlcihuLmRpdmltYWdlLGZ1bmN0aW9uKCl7bGF5b3V0RWxlbWVudChuLmRpdmltYWdlLG4uZGl2aW1hZ2Uud2lkdGgsbi5kaXZpbWFnZS5oZWlnaHQpLG4uaW5mby5saW5rP24uZGl2LmFwcGVuZENoaWxkKHZmeC5lbGVtKFwiYVwiLHtcImNsYXNzXCI6XCJtb3ZlciB2aWV3XCIsaHJlZjpuLmluZm8ubGluayx0YXJnZXQ6XCJfYmxhbmtcIn0sbi5kaXZpbWFnZSkpOm4uZGl2LmFwcGVuZENoaWxkKHZmeC5lbGVtKFwiZGl2XCIse1wiY2xhc3NcIjpcIm1vdmVyIHZpZXdcIn0sbi5kaXZpbWFnZSkpLG4uZGl2LnN0eWxlLm9wYWNpdHk9MX0pLG4uZGl2LnN0eWxlLm9wYWNpdHk9MCxjZWxsc3RhY2suYXBwZW5kQ2hpbGQobi5kaXYpLG4uZGl2aW1hZ2Uuc3JjPWUudGh1bWIsYT09c25vd3N0YWNrX29wdGlvbnMucm93cy0xJiYobi5yZWZsZWN0aW9uPXQoKSxuLnJlZmxlY3Rpb25pbWFnZT12ZnguZWxlbShcImltZ1wiLHtcImNsYXNzXCI6XCJtZWRpYSByZWZsZWN0aW9uXCJ9KSx2ZngubG9hZGhhbmRsZXIobi5yZWZsZWN0aW9uaW1hZ2UsZnVuY3Rpb24oKXtsYXlvdXRFbGVtZW50KG4ucmVmbGVjdGlvbmltYWdlLG4ucmVmbGVjdGlvbmltYWdlLndpZHRoLG4ucmVmbGVjdGlvbmltYWdlLmhlaWdodCksbi5yZWZsZWN0aW9uLmFwcGVuZENoaWxkKHZmeC5lbGVtKFwiZGl2XCIse1wiY2xhc3NcIjpcIm1vdmVyIHZpZXdcIn0sbi5yZWZsZWN0aW9uaW1hZ2UpKSxuLnJlZmxlY3Rpb24uc3R5bGUub3BhY2l0eT0xfSksbi5yZWZsZWN0aW9uLnN0eWxlLm9wYWNpdHk9MCxyZWZsZWN0aW9uc3RhY2suYXBwZW5kQ2hpbGQobi5yZWZsZWN0aW9uKSxuLnJlZmxlY3Rpb25pbWFnZS5zcmM9ZS50aHVtYil9ZnVuY3Rpb24gc25vd3N0YWNrX3NvcnQoZSl7dmFyIHQ7dD1cImRhdGVcIj09ZT9mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBEYXRlKFwiMSBcIitlLmluZm8uZGF0ZSksbz1uZXcgRGF0ZShcIjEgXCIrdC5pbmZvLmRhdGUpO3JldHVybiBvLW59OmZ1bmN0aW9uKHQsbil7dmFyIG89dC5pbmZvW2VdLGk9bi5pbmZvW2VdO3JldHVybiBvPmk/MTppPm8/LTE6MH0sY2VsbHMuc29ydCh0KTtmb3IodmFyIG49MDtuPGNlbGxzLmxlbmd0aDsrK24pe3ZhciBvPU1hdGguZmxvb3Iobi9zbm93c3RhY2tfb3B0aW9ucy5yb3dzKSxpPW4tbypzbm93c3RhY2tfb3B0aW9ucy5yb3dzO2NlbGxzW25dLmRpdi5zdHlsZS53ZWJraXRUcmFuc2Zvcm09dmZ4LnRyYW5zbGF0ZTNkKG8qQ1hTUEFDSU5HLGkqQ1lTUEFDSU5HLDApfX1mdW5jdGlvbiBzbm93c3RhY2tfc3RhcnRzZWFyY2goKXtjYW1lcmEuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwidHJhbnNsYXRlM2QoMCwgMCwgLTUwMHB4KVwiLGNhbWVyYS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb249XCIxc1wifWZ1bmN0aW9uIHNub3dzdGFja19lbmRzZWFyY2goKXtjYW1lcmEuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwiXCJ9ZnVuY3Rpb24gc25vd3N0YWNrX3NlYXJjaChlLHQpe3QubGVuZ3RoP3Nub3dzdGFja19zdGFydHNlYXJjaCgpOnNub3dzdGFja19lbmRzZWFyY2goKTtmb3IodmFyIG49bmV3IFJlZ0V4cCh0LFwiaVwiKSxvPTA7bzxjZWxscy5sZW5ndGg7KytvKXt2YXIgaTtpPXQubGVuZ3RoPy0xIT1jZWxsc1tvXS5pbmZvW2VdLnNlYXJjaChuKTohMCxjZWxsc1tvXS5kaXYuc3R5bGUub3BhY2l0eT1pPzE6LjJ9fXZhciBnbG9iYWw9dGhpcyxDV0lEVEgsQ0hFSUdIVCxDR0FQPTEwLENYU1BBQ0lORyxDWVNQQUNJTkcsc25vd3N0YWNrX29wdGlvbnM9e3Jvd3M6MyxyZWZyZXNoem9vbTohMCxjYXB0aW9uczohMX0sdmZ4PXtlbGVtOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO2lmKHQpZm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmby5zZXRBdHRyaWJ1dGUoaSx0W2ldKTtyZXR1cm4gbiYmby5hcHBlbmRDaGlsZChuKSxvfSxieWlkOmZ1bmN0aW9uKGUpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKX0sbG9hZGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdCwhMSl9LHRyYW5zbGF0ZTNkOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cInRyYW5zbGF0ZTNkKFwiK2UrXCJweCwgXCIrdCtcInB4LCBcIituK1wicHgpXCJ9fSxjdXJyZW50Q2VsbEluZGV4PS0xLGNlbGxzPVtdLGRvbGx5LGNhbWVyYSxjYXB0aW9uLGNlbGxzdGFjayxyZWZsZWN0aW9uc3RhY2ssbWFnbmlmeU1vZGUsbmV3YmllVXNlcj0hMCx6b29tVGltZXI9bnVsbCxjdXJyZW50VGltZXI9bnVsbCxjdXJyZW50VmlkZW89bnVsbDtnbG9iYWwuc25vd3N0YWNrX2luaXQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dmFyIHQ9Y3VycmVudENlbGxJbmRleDtjLmxlZnQmJnQ+PXNub3dzdGFja19vcHRpb25zLnJvd3MmJih0LT1zbm93c3RhY2tfb3B0aW9ucy5yb3dzKSxjLnJpZ2h0JiYodCtzbm93c3RhY2tfb3B0aW9ucy5yb3dzPGNlbGxzLmxlbmd0aD90Kz1zbm93c3RhY2tfb3B0aW9ucy5yb3dzOmF8fChhPSEwLGUoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKHNub3dzdGFja19hZGRpbWFnZSksYT0hMX0pKSksYy51cCYmKHQtPTEpLGMuZG93biYmKHQrPTEpLHNub3dzdGFja191cGRhdGUodCxtYWduaWZ5TW9kZSl9ZnVuY3Rpb24gbygpe24oKSxmPXNldFRpbWVvdXQobyx1KSx1PTYwfWZ1bmN0aW9uIGkoKXtjLmxlZnR8fGMucmlnaHR8fGMudXB8fGMuZG93bj9udWxsPT09ZiYmKHU9MzMwLG8oKSk6KGNsZWFyVGltZW91dChmKSxmPW51bGwpfXZhciBhPSEwO2NhbWVyYT12ZnguYnlpZChcImNhbWVyYVwiKSxyZWZsZWN0aW9uc3RhY2s9dmZ4LmVsZW0oXCJkaXZcIix7XCJjbGFzc1wiOlwidmlld1wifSk7dmFyIHI9dmZ4LmVsZW0oXCJkaXZcIix7XCJjbGFzc1wiOlwidmlld1wifSxyZWZsZWN0aW9uc3RhY2spO2ZvcihjZWxsc3RhY2s9dmZ4LmVsZW0oXCJkaXZcIix7XCJjbGFzc1wiOlwidmlld1wifSksZG9sbHk9dmZ4LmVsZW0oXCJkaXZcIix7XCJjbGFzc1wiOlwiZG9sbHkgdmlld1wifSksZG9sbHkuYXBwZW5kQ2hpbGQoY2VsbHN0YWNrKSxkb2xseS5hcHBlbmRDaGlsZChyKTtjYW1lcmEuaGFzQ2hpbGROb2RlcygpOyljYW1lcmEucmVtb3ZlQ2hpbGQoY2FtZXJhLmZpcnN0Q2hpbGQpO2lmKGNhbWVyYS5hcHBlbmRDaGlsZChkb2xseSksdClmb3IodmFyIHMgaW4gdCl0Lmhhc093blByb3BlcnR5KHMpJiYoc25vd3N0YWNrX29wdGlvbnNbc109dFtzXSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIGw9ZTtlPWZ1bmN0aW9uKGUpe2UobCksbD1bXX19Q0hFSUdIVD1NYXRoLnJvdW5kKHdpbmRvdy5pbm5lckhlaWdodC8oc25vd3N0YWNrX29wdGlvbnMucm93cysyKSksQ1dJRFRIPU1hdGgucm91bmQoMzAwKkNIRUlHSFQvMTgwKSxDWFNQQUNJTkc9Q1dJRFRIK0NHQVAsQ1lTUEFDSU5HPUNIRUlHSFQrQ0dBUCxyLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInNjYWxlWSgtMS4wKSBcIit2ZngudHJhbnNsYXRlM2QoMCwtQ1lTUEFDSU5HKigyKnNub3dzdGFja19vcHRpb25zLnJvd3MpLTEsMCksZShmdW5jdGlvbihlKXtlLmZvckVhY2goc25vd3N0YWNrX2FkZGltYWdlKSxzbm93c3RhY2tfdXBkYXRlKE1hdGguZmxvb3Ioc25vd3N0YWNrX29wdGlvbnMucm93cy8yKSwhMSksYT0hMX0pO3ZhciBjPXtsZWZ0OiExLHJpZ2h0OiExLHVwOiExLGRvd246ITF9LGQ9ezM3OlwibGVmdFwiLDM4OlwidXBcIiwzOTpcInJpZ2h0XCIsNDA6XCJkb3duXCJ9LGY9bnVsbCx1PTMzMDt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXszMj09ZS5rZXlDb2RlP3Nub3dzdGFja191cGRhdGUoY3VycmVudENlbGxJbmRleCwhbWFnbmlmeU1vZGUpOjEzPT1lLmtleUNvZGU/c25vd3N0YWNrX3RvZ2dsZW1lZGlhKGN1cnJlbnRDZWxsSW5kZXgpOmNbZFtlLmtleUNvZGVdXT0hMCxpKCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsZnVuY3Rpb24oZSl7Y1tkW2Uua2V5Q29kZV1dPSExLGkoKX0pO3ZhciBtPTAsdj0wLHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW1lcmFcIik7dy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGUpe3JldHVybiBtPWV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsdj1tLGUucHJldmVudERlZmF1bHQoKSwhMX0sITEpLHcuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe3Y9ZXZlbnQudG91Y2hlc1swXS5wYWdlWDt2YXIgdD12LW07cmV0dXJuIGMubGVmdD10PjIwLGMucmlnaHQ9MjA+dCxuKCksbT12LGUucHJldmVudERlZmF1bHQoKSwhMX0sITApLHcuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGMubGVmdD0hMSxjLnJpZ2h0PSExLGUucHJldmVudERlZmF1bHQoKSwhMX0sITApfTsiLCIhZnVuY3Rpb24odCl7dmFyIGU9dDtlLnZlcnNpb249XCIwLjguNVwiLGUucHJvdG9jb2w9MSxlLnRyYW5zcG9ydHM9W10sZS5qPVtdLGUuc29ja2V0cz17fSxlLmNvbm5lY3Q9ZnVuY3Rpb24odCxuKXt2YXIgbyxpLHI9ZS51dGlsLnBhcnNlVXJpKHQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKHIucHJvdG9jb2w9ci5wcm90b2NvbHx8ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wuc2xpY2UoMCwtMSksci5ob3N0PXIuaG9zdHx8ZG9jdW1lbnQuZG9tYWluLHIucG9ydD1yLnBvcnR8fGRvY3VtZW50LmxvY2F0aW9uLnBvcnQpLG89ZS51dGlsLnVuaXF1ZVVyaShyKTt2YXIgcz17aG9zdDpyLmhvc3Qsc2VjdXJlOlwiaHR0cHNcIj09ci5wcm90b2NvbCxwb3J0OnIucG9ydHx8KFwiaHR0cHNcIj09ci5wcm90b2NvbD80NDM6ODApLHF1ZXJ5OnIucXVlcnl8fFwiXCJ9O3JldHVybiBlLnV0aWwubWVyZ2UocyxuKSwoc1tcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdfHwhZS5zb2NrZXRzW29dKSYmKGk9bmV3IGUuU29ja2V0KHMpKSwhc1tcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdJiZpJiYoZS5zb2NrZXRzW29dPWkpLGk9aXx8ZS5zb2NrZXRzW29dLGkub2Yoci5wYXRoLmxlbmd0aD4xP3IucGF0aDpcIlwiKX19KFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM6d2luZG93LmlvPXt9KSxmdW5jdGlvbih0LGUpe3ZhciBuPXQudXRpbD17fSxvPS9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxpPVtcInNvdXJjZVwiLFwicHJvdG9jb2xcIixcImF1dGhvcml0eVwiLFwidXNlckluZm9cIixcInVzZXJcIixcInBhc3N3b3JkXCIsXCJob3N0XCIsXCJwb3J0XCIsXCJyZWxhdGl2ZVwiLFwicGF0aFwiLFwiZGlyZWN0b3J5XCIsXCJmaWxlXCIsXCJxdWVyeVwiLFwiYW5jaG9yXCJdO24ucGFyc2VVcmk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW8uZXhlYyh0fHxcIlwiKSxuPXt9LHI9MTQ7ci0tOyluW2lbcl1dPWVbcl18fFwiXCI7cmV0dXJuIG59LG4udW5pcXVlVXJpPWZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvdG9jb2wsbz10Lmhvc3QsaT10LnBvcnQ7cmV0dXJuXCJkb2N1bWVudFwiaW4gZT8obz1vfHxkb2N1bWVudC5kb21haW4saT1pfHwoXCJodHRwc1wiPT1uJiZcImh0dHBzOlwiIT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/NDQzOmRvY3VtZW50LmxvY2F0aW9uLnBvcnQpKToobz1vfHxcImxvY2FsaG9zdFwiLGl8fFwiaHR0cHNcIiE9bnx8KGk9NDQzKSksKG58fFwiaHR0cFwiKStcIjovL1wiK28rXCI6XCIrKGl8fDgwKX0sbi5xdWVyeT1mdW5jdGlvbih0LGUpe3ZhciBvPW4uY2h1bmtRdWVyeSh0fHxcIlwiKSxpPVtdO24ubWVyZ2UobyxuLmNodW5rUXVlcnkoZXx8XCJcIikpO2Zvcih2YXIgciBpbiBvKW8uaGFzT3duUHJvcGVydHkocikmJmkucHVzaChyK1wiPVwiK29bcl0pO3JldHVybiBpLmxlbmd0aD9cIj9cIitpLmpvaW4oXCImXCIpOlwiXCJ9LG4uY2h1bmtRdWVyeT1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj17fSxvPXQuc3BsaXQoXCImXCIpLGk9MCxyPW8ubGVuZ3RoO3I+aTsrK2kpZT1vW2ldLnNwbGl0KFwiPVwiKSxlWzBdJiYobltlWzBdXT1kZWNvZGVVUklDb21wb25lbnQoZVsxXSkpO3JldHVybiBufTt2YXIgcj0hMTtuLmxvYWQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJkb2N1bWVudFwiaW4gZSYmXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8cj90KCk6dm9pZCBuLm9uKGUsXCJsb2FkXCIsdCwhMSl9LG4ub249ZnVuY3Rpb24odCxlLG4sbyl7dC5hdHRhY2hFdmVudD90LmF0dGFjaEV2ZW50KFwib25cIitlLG4pOnQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGUsbixvKX0sbi5yZXF1ZXN0PWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe2lmKHQmJndpbmRvdy5YRG9tYWluUmVxdWVzdClyZXR1cm4gbmV3IFhEb21haW5SZXF1ZXN0O2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmKCF0fHxuLnVhLmhhc0NPUlMpKXJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7aWYoIXQpdHJ5e3JldHVybiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX1jYXRjaChlKXt9fXJldHVybiBudWxsfSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZuLmxvYWQoZnVuY3Rpb24oKXtyPSEwfSksbi5kZWZlcj1mdW5jdGlvbih0KXtyZXR1cm4gbi51YS53ZWJraXQ/dm9pZCBuLmxvYWQoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHQsMTAwKX0pOnQoKX0sbi5tZXJnZT1mdW5jdGlvbih0LGUsbyxpKXt2YXIgcixzPWl8fFtdLGM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG8/MjpvO2ZvcihyIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmbi5pbmRleE9mKHMscik8MCYmKFwib2JqZWN0XCI9PXR5cGVvZiB0W3JdJiZjP24ubWVyZ2UodFtyXSxlW3JdLGMtMSxzKToodFtyXT1lW3JdLHMucHVzaChlW3JdKSkpO3JldHVybiB0fSxuLm1peGluPWZ1bmN0aW9uKHQsZSl7bi5tZXJnZSh0LnByb3RvdHlwZSxlLnByb3RvdHlwZSl9LG4uaW5oZXJpdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt9bi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG59LG4uaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LG4uaW50ZXJzZWN0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPVtdLGk9dC5sZW5ndGg+ZS5sZW5ndGg/dDplLHI9dC5sZW5ndGg+ZS5sZW5ndGg/ZTp0LHM9MCxjPXIubGVuZ3RoO2M+cztzKyspfm4uaW5kZXhPZihpLHJbc10pJiZvLnB1c2gocltzXSk7cmV0dXJuIG99LG4uaW5kZXhPZj1mdW5jdGlvbih0LGUsbil7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLG4pO2Zvcih2YXIgbz10Lmxlbmd0aCxuPTA+bj8wPm4rbz8wOm4rbzpufHwwO28+biYmdFtuXSE9PWU7bisrKTtyZXR1cm4gbj49bz8tMTpufSxuLnRvQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxvPXQubGVuZ3RoO28+bjtuKyspZS5wdXNoKHRbbl0pO3JldHVybiBlfSxuLnVhPXt9LG4udWEuaGFzQ09SUz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuWE1MSHR0cFJlcXVlc3QmJmZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4gdm9pZCAwIT10LndpdGhDcmVkZW50aWFsc30oKSxuLnVhLndlYmtpdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvd2Via2l0L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9pbzptb2R1bGUuZXhwb3J0cyx0aGlzKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt9dC5FdmVudEVtaXR0ZXI9bixuLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLiRldmVudHN8fCh0aGlzLiRldmVudHM9e30pLHRoaXMuJGV2ZW50c1t0XT9lLnV0aWwuaXNBcnJheSh0aGlzLiRldmVudHNbdF0pP3RoaXMuJGV2ZW50c1t0XS5wdXNoKG4pOnRoaXMuJGV2ZW50c1t0XT1bdGhpcy4kZXZlbnRzW3RdLG5dOnRoaXMuJGV2ZW50c1t0XT1uLHRoaXN9LG4ucHJvdG90eXBlLmFkZExpc3RlbmVyPW4ucHJvdG90eXBlLm9uLG4ucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7by5yZW1vdmVMaXN0ZW5lcih0LG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvPXRoaXM7cmV0dXJuIG4ubGlzdGVuZXI9ZSx0aGlzLm9uKHQsbiksdGhpc30sbi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxuKXtpZih0aGlzLiRldmVudHMmJnRoaXMuJGV2ZW50c1t0XSl7dmFyIG89dGhpcy4kZXZlbnRzW3RdO2lmKGUudXRpbC5pc0FycmF5KG8pKXtmb3IodmFyIGk9LTEscj0wLHM9by5sZW5ndGg7cz5yO3IrKylpZihvW3JdPT09bnx8b1tyXS5saXN0ZW5lciYmb1tyXS5saXN0ZW5lcj09PW4pe2k9cjticmVha31pZigwPmkpcmV0dXJuIHRoaXM7by5zcGxpY2UoaSwxKSxvLmxlbmd0aHx8ZGVsZXRlIHRoaXMuJGV2ZW50c1t0XX1lbHNlKG89PT1ufHxvLmxpc3RlbmVyJiZvLmxpc3RlbmVyPT09bikmJmRlbGV0ZSB0aGlzLiRldmVudHNbdF19cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kZXZlbnRzJiZ0aGlzLiRldmVudHNbdF0mJih0aGlzLiRldmVudHNbdF09bnVsbCksdGhpc30sbi5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRldmVudHN8fCh0aGlzLiRldmVudHM9e30pLHRoaXMuJGV2ZW50c1t0XXx8KHRoaXMuJGV2ZW50c1t0XT1bXSksZS51dGlsLmlzQXJyYXkodGhpcy4kZXZlbnRzW3RdKXx8KHRoaXMuJGV2ZW50c1t0XT1bdGhpcy4kZXZlbnRzW3RdXSksdGhpcy4kZXZlbnRzW3RdfSxuLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLiRldmVudHMpcmV0dXJuITE7dmFyIG49dGhpcy4kZXZlbnRzW3RdO2lmKCFuKXJldHVybiExO3ZhciBvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKW4uYXBwbHkodGhpcyxvKTtlbHNle2lmKCFlLnV0aWwuaXNBcnJheShuKSlyZXR1cm4hMTtmb3IodmFyIGk9bi5zbGljZSgpLHI9MCxzPWkubGVuZ3RoO3M+cjtyKyspaVtyXS5hcHBseSh0aGlzLG8pfXJldHVybiEwfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5leHBvcnRzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbz9pbzptb2R1bGUucGFyZW50LmV4cG9ydHMpLGZ1bmN0aW9uKGV4cG9ydHMsbmF0aXZlSlNPTil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZih0KXtyZXR1cm4gMTA+dD9cIjBcIit0OnR9ZnVuY3Rpb24gZGF0ZSh0LGUpe3JldHVybiBpc0Zpbml0ZSh0LnZhbHVlT2YoKSk/dC5nZXRVVENGdWxsWWVhcigpK1wiLVwiK2YodC5nZXRVVENNb250aCgpKzEpK1wiLVwiK2YodC5nZXRVVENEYXRlKCkpK1wiVFwiK2YodC5nZXRVVENIb3VycygpKStcIjpcIitmKHQuZ2V0VVRDTWludXRlcygpKStcIjpcIitmKHQuZ2V0VVRDU2Vjb25kcygpKStcIlpcIjpudWxsfWZ1bmN0aW9uIHF1b3RlKHQpe3JldHVybiBlc2NhcGFibGUubGFzdEluZGV4PTAsZXNjYXBhYmxlLnRlc3QodCk/J1wiJyt0LnJlcGxhY2UoZXNjYXBhYmxlLGZ1bmN0aW9uKHQpe3ZhciBlPW1ldGFbdF07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlxcXFx1XCIrKFwiMDAwMFwiK3QuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKydcIic6J1wiJyt0KydcIid9ZnVuY3Rpb24gc3RyKHQsZSl7dmFyIG4sbyxpLHIscyxjPWdhcCxhPWVbdF07c3dpdGNoKGEgaW5zdGFuY2VvZiBEYXRlJiYoYT1kYXRlKHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXAmJihhPXJlcC5jYWxsKGUsdCxhKSksdHlwZW9mIGEpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBxdW90ZShhKTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gaXNGaW5pdGUoYSk/U3RyaW5nKGEpOlwibnVsbFwiO2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJudWxsXCI6cmV0dXJuIFN0cmluZyhhKTtjYXNlXCJvYmplY3RcIjppZighYSlyZXR1cm5cIm51bGxcIjtpZihnYXArPWluZGVudCxzPVtdLFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoYSkpe2ZvcihyPWEubGVuZ3RoLG49MDtyPm47bis9MSlzW25dPXN0cihuLGEpfHxcIm51bGxcIjtyZXR1cm4gaT0wPT09cy5sZW5ndGg/XCJbXVwiOmdhcD9cIltcXG5cIitnYXArcy5qb2luKFwiLFxcblwiK2dhcCkrXCJcXG5cIitjK1wiXVwiOlwiW1wiK3Muam9pbihcIixcIikrXCJdXCIsZ2FwPWMsaX1pZihyZXAmJlwib2JqZWN0XCI9PXR5cGVvZiByZXApZm9yKHI9cmVwLmxlbmd0aCxuPTA7cj5uO24rPTEpXCJzdHJpbmdcIj09dHlwZW9mIHJlcFtuXSYmKG89cmVwW25dLGk9c3RyKG8sYSksaSYmcy5wdXNoKHF1b3RlKG8pKyhnYXA/XCI6IFwiOlwiOlwiKStpKSk7ZWxzZSBmb3IobyBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLG8pJiYoaT1zdHIobyxhKSxpJiZzLnB1c2gocXVvdGUobykrKGdhcD9cIjogXCI6XCI6XCIpK2kpKTtyZXR1cm4gaT0wPT09cy5sZW5ndGg/XCJ7fVwiOmdhcD9cIntcXG5cIitnYXArcy5qb2luKFwiLFxcblwiK2dhcCkrXCJcXG5cIitjK1wifVwiOlwie1wiK3Muam9pbihcIixcIikrXCJ9XCIsZ2FwPWMsaX19aWYobmF0aXZlSlNPTiYmbmF0aXZlSlNPTi5wYXJzZSlyZXR1cm4gZXhwb3J0cy5KU09OPXtwYXJzZTpuYXRpdmVKU09OLnBhcnNlLHN0cmluZ2lmeTpuYXRpdmVKU09OLnN0cmluZ2lmeX07dmFyIEpTT049ZXhwb3J0cy5KU09OPXt9LGN4PS9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHg5ZlxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLGdhcCxpbmRlbnQsbWV0YT17XCJcXGJcIjpcIlxcXFxiXCIsXCJcdFwiOlwiXFxcXHRcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcclwiOlwiXFxcXHJcIiwnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIn0scmVwO0pTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbztpZihnYXA9XCJcIixpbmRlbnQ9XCJcIixcIm51bWJlclwiPT10eXBlb2Ygbilmb3Iobz0wO24+bztvKz0xKWluZGVudCs9XCIgXCI7ZWxzZVwic3RyaW5nXCI9PXR5cGVvZiBuJiYoaW5kZW50PW4pO2lmKHJlcD1lLGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihcIm9iamVjdFwiIT10eXBlb2YgZXx8XCJudW1iZXJcIiE9dHlwZW9mIGUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLnN0cmluZ2lmeVwiKTtyZXR1cm4gc3RyKFwiXCIse1wiXCI6dH0pfSxKU09OLnBhcnNlPWZ1bmN0aW9uKHRleHQscmV2aXZlcil7ZnVuY3Rpb24gd2Fsayh0LGUpe3ZhciBuLG8saT10W2VdO2lmKGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpKWZvcihuIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbikmJihvPXdhbGsoaSxuKSx2b2lkIDAhPT1vP2lbbl09bzpkZWxldGUgaVtuXSk7cmV0dXJuIHJldml2ZXIuY2FsbCh0LGUsaSl9dmFyIGo7aWYodGV4dD1TdHJpbmcodGV4dCksY3gubGFzdEluZGV4PTAsY3gudGVzdCh0ZXh0KSYmKHRleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKHQpe3JldHVyblwiXFxcXHVcIisoXCIwMDAwXCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xcXSw6e31cXHNdKiQvLnRlc3QodGV4dC5yZXBsYWNlKC9cXFxcKD86W1wiXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpcXHMqXFxbKSsvZyxcIlwiKSkpcmV0dXJuIGo9ZXZhbChcIihcIit0ZXh0K1wiKVwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXZpdmVyP3dhbGsoe1wiXCI6an0sXCJcIik6ajt0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJKU09OLnBhcnNlXCIpfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5leHBvcnRzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBKU09OP0pTT046dm9pZCAwKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyc2VyPXt9LG89bi5wYWNrZXRzPVtcImRpc2Nvbm5lY3RcIixcImNvbm5lY3RcIixcImhlYXJ0YmVhdFwiLFwibWVzc2FnZVwiLFwianNvblwiLFwiZXZlbnRcIixcImFja1wiLFwiZXJyb3JcIixcIm5vb3BcIl0saT1uLnJlYXNvbnM9W1widHJhbnNwb3J0IG5vdCBzdXBwb3J0ZWRcIixcImNsaWVudCBub3QgaGFuZHNoYWtlblwiLFwidW5hdXRob3JpemVkXCJdLHI9bi5hZHZpY2U9W1wicmVjb25uZWN0XCJdLHM9ZS5KU09OLGM9ZS51dGlsLmluZGV4T2Y7bi5lbmNvZGVQYWNrZXQ9ZnVuY3Rpb24odCl7dmFyIGU9YyhvLHQudHlwZSksbj10LmlkfHxcIlwiLGE9dC5lbmRwb2ludHx8XCJcIixwPXQuYWNrLHU9bnVsbDtzd2l0Y2godC50eXBlKXtjYXNlXCJlcnJvclwiOnZhciBoPXQucmVhc29uP2MoaSx0LnJlYXNvbik6XCJcIixmPXQuYWR2aWNlP2Mocix0LmFkdmljZSk6XCJcIjsoXCJcIiE9PWh8fFwiXCIhPT1mKSYmKHU9aCsoXCJcIiE9PWY/XCIrXCIrZjpcIlwiKSk7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOlwiXCIhPT10LmRhdGEmJih1PXQuZGF0YSk7YnJlYWs7Y2FzZVwiZXZlbnRcIjp2YXIgbD17bmFtZTp0Lm5hbWV9O3QuYXJncyYmdC5hcmdzLmxlbmd0aCYmKGwuYXJncz10LmFyZ3MpLHU9cy5zdHJpbmdpZnkobCk7YnJlYWs7Y2FzZVwianNvblwiOnU9cy5zdHJpbmdpZnkodC5kYXRhKTticmVhaztjYXNlXCJjb25uZWN0XCI6dC5xcyYmKHU9dC5xcyk7YnJlYWs7Y2FzZVwiYWNrXCI6dT10LmFja0lkKyh0LmFyZ3MmJnQuYXJncy5sZW5ndGg/XCIrXCIrcy5zdHJpbmdpZnkodC5hcmdzKTpcIlwiKX12YXIgZD1bZSxuKyhcImRhdGFcIj09cD9cIitcIjpcIlwiKSxhXTtyZXR1cm4gbnVsbCE9PXUmJnZvaWQgMCE9PXUmJmQucHVzaCh1KSxkLmpvaW4oXCI6XCIpfSxuLmVuY29kZVBheWxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtpZigxPT10Lmxlbmd0aClyZXR1cm4gdFswXTtmb3IodmFyIG49MCxvPXQubGVuZ3RoO28+bjtuKyspe3ZhciBpPXRbbl07ZSs9XCLvv71cIitpLmxlbmd0aCtcIu+/vVwiK3Rbbl19cmV0dXJuIGV9O3ZhciBhPS8oW146XSspOihbMC05XSspPyhcXCspPzooW146XSspPzo/KFtcXHNcXFNdKik/LztuLmRlY29kZVBhY2tldD1mdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoKGEpO2lmKCFlKXJldHVybnt9O3ZhciBuPWVbMl18fFwiXCIsdD1lWzVdfHxcIlwiLGM9e3R5cGU6b1tlWzFdXSxlbmRwb2ludDplWzRdfHxcIlwifTtzd2l0Y2gobiYmKGMuaWQ9bixlWzNdP2MuYWNrPVwiZGF0YVwiOmMuYWNrPSEwKSxjLnR5cGUpe2Nhc2VcImVycm9yXCI6dmFyIGU9dC5zcGxpdChcIitcIik7Yy5yZWFzb249aVtlWzBdXXx8XCJcIixjLmFkdmljZT1yW2VbMV1dfHxcIlwiO2JyZWFrO2Nhc2VcIm1lc3NhZ2VcIjpjLmRhdGE9dHx8XCJcIjticmVhaztjYXNlXCJldmVudFwiOnRyeXt2YXIgcD1zLnBhcnNlKHQpO2MubmFtZT1wLm5hbWUsYy5hcmdzPXAuYXJnc31jYXRjaCh1KXt9Yy5hcmdzPWMuYXJnc3x8W107YnJlYWs7Y2FzZVwianNvblwiOnRyeXtjLmRhdGE9cy5wYXJzZSh0KX1jYXRjaCh1KXt9YnJlYWs7Y2FzZVwiY29ubmVjdFwiOmMucXM9dHx8XCJcIjticmVhaztjYXNlXCJhY2tcIjp2YXIgZT10Lm1hdGNoKC9eKFswLTldKykoXFwrKT8oLiopLyk7aWYoZSYmKGMuYWNrSWQ9ZVsxXSxjLmFyZ3M9W10sZVszXSkpdHJ5e2MuYXJncz1lWzNdP3MucGFyc2UoZVszXSk6W119Y2F0Y2godSl7fWJyZWFrO2Nhc2VcImRpc2Nvbm5lY3RcIjpjYXNlXCJoZWFydGJlYXRcIjp9cmV0dXJuIGN9LG4uZGVjb2RlUGF5bG9hZD1mdW5jdGlvbih0KXtpZihcIu+/vVwiPT10LmNoYXJBdCgwKSl7Zm9yKHZhciBlPVtdLG89MSxpPVwiXCI7bzx0Lmxlbmd0aDtvKyspXCLvv71cIj09dC5jaGFyQXQobyk/KGUucHVzaChuLmRlY29kZVBhY2tldCh0LnN1YnN0cihvKzEpLnN1YnN0cigwLGkpKSksbys9TnVtYmVyKGkpKzEsaT1cIlwiKTppKz10LmNoYXJBdChvKTtyZXR1cm4gZX1yZXR1cm5bbi5kZWNvZGVQYWNrZXQodCldfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5leHBvcnRzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbz9pbzptb2R1bGUucGFyZW50LmV4cG9ydHMpLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3RoaXMuc29ja2V0PXQsdGhpcy5zZXNzaWQ9ZX10LlRyYW5zcG9ydD1uLGUudXRpbC5taXhpbihuLGUuRXZlbnRFbWl0dGVyKSxuLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5jbGVhckNsb3NlVGltZW91dCgpLHRoaXMuc2V0Q2xvc2VUaW1lb3V0KCksXCJcIiE9PXQpe3ZhciBuPWUucGFyc2VyLmRlY29kZVBheWxvYWQodCk7aWYobiYmbi5sZW5ndGgpZm9yKHZhciBvPTAsaT1uLmxlbmd0aDtpPm87bysrKXRoaXMub25QYWNrZXQobltvXSl9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLm9uUGFja2V0PWZ1bmN0aW9uKHQpe3JldHVyblwiaGVhcnRiZWF0XCI9PXQudHlwZT90aGlzLm9uSGVhcnRiZWF0KCk6KFwiY29ubmVjdFwiPT10LnR5cGUmJlwiXCI9PXQuZW5kcG9pbnQmJnRoaXMub25Db25uZWN0KCksdGhpcy5zb2NrZXQub25QYWNrZXQodCksdGhpcyl9LG4ucHJvdG90eXBlLnNldENsb3NlVGltZW91dD1mdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlVGltZW91dCl7dmFyIHQ9dGhpczt0aGlzLmNsb3NlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vbkRpc2Nvbm5lY3QoKX0sdGhpcy5zb2NrZXQuY2xvc2VUaW1lb3V0KX19LG4ucHJvdG90eXBlLm9uRGlzY29ubmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb3NlJiZ0aGlzLmNsb3NlKCksdGhpcy5jbGVhclRpbWVvdXRzKCksdGhpcy5zb2NrZXQub25EaXNjb25uZWN0KCksdGhpc30sbi5wcm90b3R5cGUub25Db25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ja2V0Lm9uQ29ubmVjdCgpLHRoaXN9LG4ucHJvdG90eXBlLmNsZWFyQ2xvc2VUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5jbG9zZVRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5jbG9zZVRpbWVvdXQpLHRoaXMuY2xvc2VUaW1lb3V0PW51bGwpfSxuLnByb3RvdHlwZS5jbGVhclRpbWVvdXRzPWZ1bmN0aW9uKCl7dGhpcy5jbGVhckNsb3NlVGltZW91dCgpLHRoaXMucmVvcGVuVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMucmVvcGVuVGltZW91dCl9LG4ucHJvdG90eXBlLnBhY2tldD1mdW5jdGlvbih0KXt0aGlzLnNlbmQoZS5wYXJzZXIuZW5jb2RlUGFja2V0KHQpKX0sbi5wcm90b3R5cGUub25IZWFydGJlYXQ9ZnVuY3Rpb24odCl7dGhpcy5wYWNrZXQoe3R5cGU6XCJoZWFydGJlYXRcIn0pfSxuLnByb3RvdHlwZS5vbk9wZW49ZnVuY3Rpb24oKXt0aGlzLm9wZW49ITAsdGhpcy5jbGVhckNsb3NlVGltZW91dCgpLHRoaXMuc29ja2V0Lm9uT3BlbigpfSxuLnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5vcGVuPSExLHRoaXMuc2V0Q2xvc2VUaW1lb3V0KCksdGhpcy5zb2NrZXQub25DbG9zZSgpfSxuLnByb3RvdHlwZS5wcmVwYXJlVXJsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zb2NrZXQub3B0aW9ucztyZXR1cm4gdGhpcy5zY2hlbWUoKStcIjovL1wiK3QuaG9zdCtcIjpcIit0LnBvcnQrXCIvXCIrdC5yZXNvdXJjZStcIi9cIitlLnByb3RvY29sK1wiL1wiK3RoaXMubmFtZStcIi9cIit0aGlzLnNlc3NpZH0sbi5wcm90b3R5cGUucmVhZHk9ZnVuY3Rpb24odCxlKXtlLmNhbGwodGhpcyl9fShcInVuZGVmaW5lZFwiIT10eXBlb2YgaW8/aW86bW9kdWxlLmV4cG9ydHMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5wYXJlbnQuZXhwb3J0cyksZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCl7aWYodGhpcy5vcHRpb25zPXtwb3J0OjgwLHNlY3VyZTohMSxkb2N1bWVudDpcImRvY3VtZW50XCJpbiBuP2RvY3VtZW50OiExLHJlc291cmNlOlwic29ja2V0LmlvXCIsdHJhbnNwb3J0czplLnRyYW5zcG9ydHMsXCJjb25uZWN0IHRpbWVvdXRcIjoxZTQsXCJ0cnkgbXVsdGlwbGUgdHJhbnNwb3J0c1wiOiEwLHJlY29ubmVjdDohMCxcInJlY29ubmVjdGlvbiBkZWxheVwiOjUwMCxcInJlY29ubmVjdGlvbiBsaW1pdFwiOjEvMCxcInJlb3BlbiBkZWxheVwiOjNlMyxcIm1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHNcIjoxMCxcInN5bmMgZGlzY29ubmVjdCBvbiB1bmxvYWRcIjohMCxcImF1dG8gY29ubmVjdFwiOiEwLFwiZmxhc2ggcG9saWN5IHBvcnRcIjoxMDg0M30sZS51dGlsLm1lcmdlKHRoaXMub3B0aW9ucyx0KSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLm9wZW49ITEsdGhpcy5jb25uZWN0aW5nPSExLHRoaXMucmVjb25uZWN0aW5nPSExLHRoaXMubmFtZXNwYWNlcz17fSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmRvQnVmZmVyPSExLHRoaXMub3B0aW9uc1tcInN5bmMgZGlzY29ubmVjdCBvbiB1bmxvYWRcIl0mJighdGhpcy5pc1hEb21haW4oKXx8ZS51dGlsLnVhLmhhc0NPUlMpKXt2YXIgbz10aGlzO2UudXRpbC5vbihuLFwiYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXtvLmRpc2Nvbm5lY3RTeW5jKCl9LCExKX10aGlzLm9wdGlvbnNbXCJhdXRvIGNvbm5lY3RcIl0mJnRoaXMuY29ubmVjdCgpfWZ1bmN0aW9uIGkoKXt9dC5Tb2NrZXQ9byxlLnV0aWwubWl4aW4obyxlLkV2ZW50RW1pdHRlciksby5wcm90b3R5cGUub2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlc1t0XXx8KHRoaXMubmFtZXNwYWNlc1t0XT1uZXcgZS5Tb2NrZXROYW1lc3BhY2UodGhpcyx0KSxcIlwiIT09dCYmdGhpcy5uYW1lc3BhY2VzW3RdLnBhY2tldCh7dHlwZTpcImNvbm5lY3RcIn0pKSx0aGlzLm5hbWVzcGFjZXNbdF19LG8ucHJvdG90eXBlLnB1Ymxpc2g9ZnVuY3Rpb24oKXt0aGlzLmVtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB0O2Zvcih2YXIgZSBpbiB0aGlzLm5hbWVzcGFjZXMpdGhpcy5uYW1lc3BhY2VzLmhhc093blByb3BlcnR5KGUpJiYodD10aGlzLm9mKGUpLHQuJGVtaXQuYXBwbHkodCxhcmd1bWVudHMpKX0sby5wcm90b3R5cGUuaGFuZHNoYWtlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7ZSBpbnN0YW5jZW9mIEVycm9yP28ub25FcnJvcihlLm1lc3NhZ2UpOnQuYXBwbHkobnVsbCxlLnNwbGl0KFwiOlwiKSl9dmFyIG89dGhpcyxyPXRoaXMub3B0aW9ucyxzPVtcImh0dHBcIisoci5zZWN1cmU/XCJzXCI6XCJcIikrXCI6L1wiLHIuaG9zdCtcIjpcIityLnBvcnQsdGhpcy5vcHRpb25zLnJlc291cmNlLGUucHJvdG9jb2wsZS51dGlsLnF1ZXJ5KHRoaXMub3B0aW9ucy5xdWVyeSxcInQ9XCIrICtuZXcgRGF0ZSldLmpvaW4oXCIvXCIpO2lmKHRoaXMuaXNYRG9tYWluKCkpe3ZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTthLnNyYz1zK1wiJmpzb25wPVwiK2Uuai5sZW5ndGgsYy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGMpLGUuai5wdXNoKGZ1bmN0aW9uKHQpe24odCksYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSl9ZWxzZXt2YXIgcD1lLnV0aWwucmVxdWVzdCgpO3Aub3BlbihcIkdFVFwiLHMsITApLHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09cC5yZWFkeVN0YXRlJiYocC5vbnJlYWR5c3RhdGVjaGFuZ2U9aSwyMDA9PXAuc3RhdHVzP24ocC5yZXNwb25zZVRleHQpOiFvLnJlY29ubmVjdGluZyYmby5vbkVycm9yKHAucmVzcG9uc2VUZXh0KSl9LHAuc2VuZChudWxsKX19LG8ucHJvdG90eXBlLmdldFRyYW5zcG9ydD1mdW5jdGlvbih0KXtmb3IodmFyIG4sbz10fHx0aGlzLnRyYW5zcG9ydHMsaT0wO249b1tpXTtpKyspaWYoZS5UcmFuc3BvcnRbbl0mJmUuVHJhbnNwb3J0W25dLmNoZWNrKHRoaXMpJiYoIXRoaXMuaXNYRG9tYWluKCl8fGUuVHJhbnNwb3J0W25dLnhkb21haW5DaGVjaygpKSlyZXR1cm4gbmV3IGUuVHJhbnNwb3J0W25dKHRoaXMsdGhpcy5zZXNzaW9uaWQpO3JldHVybiBudWxsfSxvLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY29ubmVjdGluZylyZXR1cm4gdGhpczt2YXIgbj10aGlzO3JldHVybiB0aGlzLmhhbmRzaGFrZShmdW5jdGlvbihvLGkscixzKXtmdW5jdGlvbiBjKHQpe3JldHVybiBuLnRyYW5zcG9ydCYmbi50cmFuc3BvcnQuY2xlYXJUaW1lb3V0cygpLG4udHJhbnNwb3J0PW4uZ2V0VHJhbnNwb3J0KHQpLG4udHJhbnNwb3J0P3ZvaWQgbi50cmFuc3BvcnQucmVhZHkobixmdW5jdGlvbigpe24uY29ubmVjdGluZz0hMCxuLnB1Ymxpc2goXCJjb25uZWN0aW5nXCIsbi50cmFuc3BvcnQubmFtZSksbi50cmFuc3BvcnQub3BlbigpLG4ub3B0aW9uc1tcImNvbm5lY3QgdGltZW91dFwiXSYmKG4uY29ubmVjdFRpbWVvdXRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoIW4uY29ubmVjdGVkJiYobi5jb25uZWN0aW5nPSExLG4ub3B0aW9uc1tcInRyeSBtdWx0aXBsZSB0cmFuc3BvcnRzXCJdKSl7bi5yZW1haW5pbmdUcmFuc3BvcnRzfHwobi5yZW1haW5pbmdUcmFuc3BvcnRzPW4udHJhbnNwb3J0cy5zbGljZSgwKSk7Zm9yKHZhciB0PW4ucmVtYWluaW5nVHJhbnNwb3J0czt0Lmxlbmd0aD4wJiZ0LnNwbGljZSgwLDEpWzBdIT1uLnRyYW5zcG9ydC5uYW1lOyk7dC5sZW5ndGg/Yyh0KTpuLnB1Ymxpc2goXCJjb25uZWN0X2ZhaWxlZFwiKX19LG4ub3B0aW9uc1tcImNvbm5lY3QgdGltZW91dFwiXSkpfSk6bi5wdWJsaXNoKFwiY29ubmVjdF9mYWlsZWRcIil9bi5zZXNzaW9uaWQ9byxuLmNsb3NlVGltZW91dD0xZTMqcixuLmhlYXJ0YmVhdFRpbWVvdXQ9MWUzKmksbi50cmFuc3BvcnRzPWUudXRpbC5pbnRlcnNlY3Qocy5zcGxpdChcIixcIiksbi5vcHRpb25zLnRyYW5zcG9ydHMpLGMoKSxuLm9uY2UoXCJjb25uZWN0XCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobi5jb25uZWN0VGltZW91dFRpbWVyKSx0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KCl9KX0pLHRoaXN9LG8ucHJvdG90eXBlLnBhY2tldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQmJiF0aGlzLmRvQnVmZmVyP3RoaXMudHJhbnNwb3J0LnBhY2tldCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpLHRoaXN9LG8ucHJvdG90eXBlLnNldEJ1ZmZlcj1mdW5jdGlvbih0KXt0aGlzLmRvQnVmZmVyPXQsIXQmJnRoaXMuY29ubmVjdGVkJiZ0aGlzLmJ1ZmZlci5sZW5ndGgmJih0aGlzLnRyYW5zcG9ydC5wYXlsb2FkKHRoaXMuYnVmZmVyKSx0aGlzLmJ1ZmZlcj1bXSl9LG8ucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQmJih0aGlzLm9wZW4mJnRoaXMub2YoXCJcIikucGFja2V0KHt0eXBlOlwiZGlzY29ubmVjdFwifSksdGhpcy5vbkRpc2Nvbm5lY3QoXCJib290ZWRcIikpLHRoaXN9LG8ucHJvdG90eXBlLmRpc2Nvbm5lY3RTeW5jPWZ1bmN0aW9uKCl7dmFyIHQ9ZS51dGlsLnJlcXVlc3QoKSxuPXRoaXMucmVzb3VyY2UrXCIvXCIrZS5wcm90b2NvbCtcIi9cIit0aGlzLnNlc3Npb25pZDt0Lm9wZW4oXCJHRVRcIixuLCEwKSx0aGlzLm9uRGlzY29ubmVjdChcImJvb3RlZFwiKX0sby5wcm90b3R5cGUuaXNYRG9tYWluPWZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93LmxvY2F0aW9uLnBvcnR8fChcImh0dHBzOlwiPT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2w/NDQzOjgwKTtyZXR1cm4gdGhpcy5vcHRpb25zLmhvc3QhPT1kb2N1bWVudC5kb21haW58fHRoaXMub3B0aW9ucy5wb3J0IT10fSxvLnByb3RvdHlwZS5vbkNvbm5lY3Q9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3RlZHx8KHRoaXMuY29ubmVjdGVkPSEwLHRoaXMuY29ubmVjdGluZz0hMSx0aGlzLmRvQnVmZmVyfHx0aGlzLnNldEJ1ZmZlcighMSksdGhpcy5lbWl0KFwiY29ubmVjdFwiKSl9LG8ucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe3RoaXMub3Blbj0hMH0sby5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbigpe3RoaXMub3Blbj0hMX0sby5wcm90b3R5cGUub25QYWNrZXQ9ZnVuY3Rpb24odCl7dGhpcy5vZih0LmVuZHBvaW50KS5vblBhY2tldCh0KX0sby5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0KXt0JiZ0LmFkdmljZSYmXCJyZWNvbm5lY3RcIj09PXQuYWR2aWNlJiZ0aGlzLmNvbm5lY3RlZCYmKHRoaXMuZGlzY29ubmVjdCgpLHRoaXMucmVjb25uZWN0KCkpLHRoaXMucHVibGlzaChcImVycm9yXCIsdCYmdC5yZWFzb24/dC5yZWFzb246dCl9LG8ucHJvdG90eXBlLm9uRGlzY29ubmVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbm5lY3RlZDt0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmNvbm5lY3Rpbmc9ITEsdGhpcy5vcGVuPSExLGUmJih0aGlzLnRyYW5zcG9ydC5jbG9zZSgpLHRoaXMudHJhbnNwb3J0LmNsZWFyVGltZW91dHMoKSx0aGlzLnB1Ymxpc2goXCJkaXNjb25uZWN0XCIsdCksXCJib290ZWRcIiE9dCYmdGhpcy5vcHRpb25zLnJlY29ubmVjdCYmIXRoaXMucmVjb25uZWN0aW5nJiZ0aGlzLnJlY29ubmVjdCgpKX0sby5wcm90b3R5cGUucmVjb25uZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2lmKG4uY29ubmVjdGVkKXtmb3IodmFyIHQgaW4gbi5uYW1lc3BhY2VzKW4ubmFtZXNwYWNlcy5oYXNPd25Qcm9wZXJ0eSh0KSYmXCJcIiE9PXQmJm4ubmFtZXNwYWNlc1t0XS5wYWNrZXQoe3R5cGU6XCJjb25uZWN0XCJ9KTtuLnB1Ymxpc2goXCJyZWNvbm5lY3RcIixuLnRyYW5zcG9ydC5uYW1lLG4ucmVjb25uZWN0aW9uQXR0ZW1wdHMpfW4ucmVtb3ZlTGlzdGVuZXIoXCJjb25uZWN0X2ZhaWxlZFwiLGUpLG4ucmVtb3ZlTGlzdGVuZXIoXCJjb25uZWN0XCIsZSksbi5yZWNvbm5lY3Rpbmc9ITEsZGVsZXRlIG4ucmVjb25uZWN0aW9uQXR0ZW1wdHMsZGVsZXRlIG4ucmVjb25uZWN0aW9uRGVsYXksZGVsZXRlIG4ucmVjb25uZWN0aW9uVGltZXIsZGVsZXRlIG4ucmVkb1RyYW5zcG9ydHMsbi5vcHRpb25zW1widHJ5IG11bHRpcGxlIHRyYW5zcG9ydHNcIl09aX1mdW5jdGlvbiBlKCl7cmV0dXJuIG4ucmVjb25uZWN0aW5nP24uY29ubmVjdGVkP3QoKTpuLmNvbm5lY3RpbmcmJm4ucmVjb25uZWN0aW5nP24ucmVjb25uZWN0aW9uVGltZXI9c2V0VGltZW91dChlLDFlMyk6dm9pZChuLnJlY29ubmVjdGlvbkF0dGVtcHRzKys+PW8/bi5yZWRvVHJhbnNwb3J0cz8obi5wdWJsaXNoKFwicmVjb25uZWN0X2ZhaWxlZFwiKSx0KCkpOihuLm9uKFwiY29ubmVjdF9mYWlsZWRcIixlKSxuLm9wdGlvbnNbXCJ0cnkgbXVsdGlwbGUgdHJhbnNwb3J0c1wiXT0hMCxuLnRyYW5zcG9ydD1uLmdldFRyYW5zcG9ydCgpLG4ucmVkb1RyYW5zcG9ydHM9ITAsbi5jb25uZWN0KCkpOihuLnJlY29ubmVjdGlvbkRlbGF5PHImJihuLnJlY29ubmVjdGlvbkRlbGF5Kj0yKSxuLmNvbm5lY3QoKSxuLnB1Ymxpc2goXCJyZWNvbm5lY3RpbmdcIixuLnJlY29ubmVjdGlvbkRlbGF5LG4ucmVjb25uZWN0aW9uQXR0ZW1wdHMpLG4ucmVjb25uZWN0aW9uVGltZXI9c2V0VGltZW91dChlLG4ucmVjb25uZWN0aW9uRGVsYXkpKSk6dm9pZCAwfXRoaXMucmVjb25uZWN0aW5nPSEwLHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHM9MCx0aGlzLnJlY29ubmVjdGlvbkRlbGF5PXRoaXMub3B0aW9uc1tcInJlY29ubmVjdGlvbiBkZWxheVwiXTt2YXIgbj10aGlzLG89dGhpcy5vcHRpb25zW1wibWF4IHJlY29ubmVjdGlvbiBhdHRlbXB0c1wiXSxpPXRoaXMub3B0aW9uc1tcInRyeSBtdWx0aXBsZSB0cmFuc3BvcnRzXCJdLHI9dGhpcy5vcHRpb25zW1wicmVjb25uZWN0aW9uIGxpbWl0XCJdO3RoaXMub3B0aW9uc1tcInRyeSBtdWx0aXBsZSB0cmFuc3BvcnRzXCJdPSExLHRoaXMucmVjb25uZWN0aW9uVGltZXI9c2V0VGltZW91dChlLHRoaXMucmVjb25uZWN0aW9uRGVsYXkpLHRoaXMub24oXCJjb25uZWN0XCIsZSl9fShcInVuZGVmaW5lZFwiIT10eXBlb2YgaW8/aW86bW9kdWxlLmV4cG9ydHMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5wYXJlbnQuZXhwb3J0cyx0aGlzKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXt0aGlzLnNvY2tldD10LHRoaXMubmFtZT1lfHxcIlwiLHRoaXMuZmxhZ3M9e30sdGhpcy5qc29uPW5ldyBvKHRoaXMsXCJqc29uXCIpLHRoaXMuYWNrUGFja2V0cz0wLHRoaXMuYWNrcz17fX1mdW5jdGlvbiBvKHQsZSl7dGhpcy5uYW1lc3BhY2U9dCx0aGlzLm5hbWU9ZX10LlNvY2tldE5hbWVzcGFjZT1uLGUudXRpbC5taXhpbihuLGUuRXZlbnRFbWl0dGVyKSxuLnByb3RvdHlwZS4kZW1pdD1lLkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCxuLnByb3RvdHlwZS5vZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvY2tldC5vZi5hcHBseSh0aGlzLnNvY2tldCxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5wYWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZW5kcG9pbnQ9dGhpcy5uYW1lLHRoaXMuc29ja2V0LnBhY2tldCh0KSx0aGlzLmZsYWdzPXt9LHRoaXN9LG4ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCxlKXt2YXIgbj17dHlwZTp0aGlzLmZsYWdzLmpzb24/XCJqc29uXCI6XCJtZXNzYWdlXCIsZGF0YTp0fTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobi5pZD0rK3RoaXMuYWNrUGFja2V0cyxuLmFjaz0hMCx0aGlzLmFja3Nbbi5pZF09ZSksdGhpcy5wYWNrZXQobil9LG4ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49ZVtlLmxlbmd0aC0xXSxvPXt0eXBlOlwiZXZlbnRcIixuYW1lOnR9O3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihvLmlkPSsrdGhpcy5hY2tQYWNrZXRzLG8uYWNrPVwiZGF0YVwiLHRoaXMuYWNrc1tvLmlkXT1uLGU9ZS5zbGljZSgwLGUubGVuZ3RoLTEpKSxvLmFyZ3M9ZSx0aGlzLnBhY2tldChvKX0sbi5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe3JldHVyblwiXCI9PT10aGlzLm5hbWU/dGhpcy5zb2NrZXQuZGlzY29ubmVjdCgpOih0aGlzLnBhY2tldCh7dHlwZTpcImRpc2Nvbm5lY3RcIn0pLHRoaXMuJGVtaXQoXCJkaXNjb25uZWN0XCIpKSx0aGlzfSxuLnByb3RvdHlwZS5vblBhY2tldD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7by5wYWNrZXQoe3R5cGU6XCJhY2tcIixhcmdzOmUudXRpbC50b0FycmF5KGFyZ3VtZW50cyksYWNrSWQ6dC5pZH0pfXZhciBvPXRoaXM7c3dpdGNoKHQudHlwZSl7Y2FzZVwiY29ubmVjdFwiOnRoaXMuJGVtaXQoXCJjb25uZWN0XCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RcIjpcIlwiPT09dGhpcy5uYW1lP3RoaXMuc29ja2V0Lm9uRGlzY29ubmVjdCh0LnJlYXNvbnx8XCJib290ZWRcIik6dGhpcy4kZW1pdChcImRpc2Nvbm5lY3RcIix0LnJlYXNvbik7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOmNhc2VcImpzb25cIjp2YXIgaT1bXCJtZXNzYWdlXCIsdC5kYXRhXTtcImRhdGFcIj09dC5hY2s/aS5wdXNoKG4pOnQuYWNrJiZ0aGlzLnBhY2tldCh7dHlwZTpcImFja1wiLGFja0lkOnQuaWR9KSx0aGlzLiRlbWl0LmFwcGx5KHRoaXMsaSk7YnJlYWs7Y2FzZVwiZXZlbnRcIjp2YXIgaT1bdC5uYW1lXS5jb25jYXQodC5hcmdzKTtcImRhdGFcIj09dC5hY2smJmkucHVzaChuKSx0aGlzLiRlbWl0LmFwcGx5KHRoaXMsaSk7YnJlYWs7Y2FzZVwiYWNrXCI6dGhpcy5hY2tzW3QuYWNrSWRdJiYodGhpcy5hY2tzW3QuYWNrSWRdLmFwcGx5KHRoaXMsdC5hcmdzKSxkZWxldGUgdGhpcy5hY2tzW3QuYWNrSWRdKTticmVhaztjYXNlXCJlcnJvclwiOnQuYWR2aWNlP3RoaXMuc29ja2V0Lm9uRXJyb3IodCk6XCJ1bmF1dGhvcml6ZWRcIj09dC5yZWFzb24/dGhpcy4kZW1pdChcImNvbm5lY3RfZmFpbGVkXCIsdC5yZWFzb24pOnRoaXMuJGVtaXQoXCJlcnJvclwiLHQucmVhc29uKX19LG8ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXt0aGlzLm5hbWVzcGFjZS5mbGFnc1t0aGlzLm5hbWVdPSEwLHRoaXMubmFtZXNwYWNlLnNlbmQuYXBwbHkodGhpcy5uYW1lc3BhY2UsYXJndW1lbnRzKX0sby5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbigpe3RoaXMubmFtZXNwYWNlLmZsYWdzW3RoaXMubmFtZV09ITAsdGhpcy5uYW1lc3BhY2UuZW1pdC5hcHBseSh0aGlzLm5hbWVzcGFjZSxhcmd1bWVudHMpfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5leHBvcnRzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbz9pbzptb2R1bGUucGFyZW50LmV4cG9ydHMpLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtlLlRyYW5zcG9ydC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dC53ZWJzb2NrZXQ9bixlLnV0aWwuaW5oZXJpdChuLGUuVHJhbnNwb3J0KSxuLnByb3RvdHlwZS5uYW1lPVwid2Vic29ja2V0XCIsbi5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3ZhciB0LG49ZS51dGlsLnF1ZXJ5KHRoaXMuc29ja2V0Lm9wdGlvbnMucXVlcnkpLG89dGhpcztyZXR1cm4gdHx8KHQ9d2luZG93Lk1veldlYlNvY2tldHx8d2luZG93LldlYlNvY2tldCksdGhpcy53ZWJzb2NrZXQ9bmV3IHQodGhpcy5wcmVwYXJlVXJsKCkrbiksdGhpcy53ZWJzb2NrZXQub25vcGVuPWZ1bmN0aW9uKCl7by5vbk9wZW4oKSxvLnNvY2tldC5zZXRCdWZmZXIoITEpfSx0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7by5vbkRhdGEodC5kYXRhKX0sdGhpcy53ZWJzb2NrZXQub25jbG9zZT1mdW5jdGlvbigpe28ub25DbG9zZSgpLG8uc29ja2V0LnNldEJ1ZmZlcighMCl9LHRoaXMud2Vic29ja2V0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7by5vbkVycm9yKHQpfSx0aGlzfSxuLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndlYnNvY2tldC5zZW5kKHQpLHRoaXN9LG4ucHJvdG90eXBlLnBheWxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtuPmU7ZSsrKXRoaXMucGFja2V0KHRbZV0pO3JldHVybiB0aGlzfSxuLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndlYnNvY2tldC5jbG9zZSgpLHRoaXN9LG4ucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5zb2NrZXQub25FcnJvcih0KX0sbi5wcm90b3R5cGUuc2NoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ja2V0Lm9wdGlvbnMuc2VjdXJlP1wid3NzXCI6XCJ3c1wifSxuLmNoZWNrPWZ1bmN0aW9uKCl7cmV0dXJuXCJXZWJTb2NrZXRcImluIHdpbmRvdyYmIShcIl9fYWRkVGFza1wiaW4gV2ViU29ja2V0KXx8XCJNb3pXZWJTb2NrZXRcImluIHdpbmRvd30sbi54ZG9tYWluQ2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS50cmFuc3BvcnRzLnB1c2goXCJ3ZWJzb2NrZXRcIil9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbz9pby5UcmFuc3BvcnQ6bW9kdWxlLmV4cG9ydHMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5wYXJlbnQuZXhwb3J0cyksZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCl7dCYmKGUuVHJhbnNwb3J0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnNlbmRCdWZmZXI9W10pfWZ1bmN0aW9uIGkoKXt9dC5YSFI9byxlLnV0aWwuaW5oZXJpdChvLGUuVHJhbnNwb3J0KSxvLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ja2V0LnNldEJ1ZmZlcighMSksdGhpcy5vbk9wZW4oKSx0aGlzLmdldCgpLHRoaXMuc2V0Q2xvc2VUaW1lb3V0KCksdGhpc30sby5wcm90b3R5cGUucGF5bG9hZD1mdW5jdGlvbih0KXtmb3IodmFyIG49W10sbz0wLGk9dC5sZW5ndGg7aT5vO28rKyluLnB1c2goZS5wYXJzZXIuZW5jb2RlUGFja2V0KHRbb10pKTt0aGlzLnNlbmQoZS5wYXJzZXIuZW5jb2RlUGF5bG9hZChuKSl9LG8ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucG9zdCh0KSx0aGlzfSxvLnByb3RvdHlwZS5wb3N0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXs0PT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1pLHIucG9zdGluZz0hMSwyMDA9PXRoaXMuc3RhdHVzP3Iuc29ja2V0LnNldEJ1ZmZlcighMSk6ci5vbkNsb3NlKCkpfWZ1bmN0aW9uIG8oKXt0aGlzLm9ubG9hZD1pLHIuc29ja2V0LnNldEJ1ZmZlcighMSl9dmFyIHI9dGhpczt0aGlzLnNvY2tldC5zZXRCdWZmZXIoITApLHRoaXMuc2VuZFhIUj10aGlzLnJlcXVlc3QoXCJQT1NUXCIpLG4uWERvbWFpblJlcXVlc3QmJnRoaXMuc2VuZFhIUiBpbnN0YW5jZW9mIFhEb21haW5SZXF1ZXN0P3RoaXMuc2VuZFhIUi5vbmxvYWQ9dGhpcy5zZW5kWEhSLm9uZXJyb3I9bzp0aGlzLnNlbmRYSFIub25yZWFkeXN0YXRlY2hhbmdlPWUsdGhpcy5zZW5kWEhSLnNlbmQodCl9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25DbG9zZSgpLHRoaXN9LG8ucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24odCl7dmFyIG49ZS51dGlsLnJlcXVlc3QodGhpcy5zb2NrZXQuaXNYRG9tYWluKCkpLG89ZS51dGlsLnF1ZXJ5KHRoaXMuc29ja2V0Lm9wdGlvbnMucXVlcnksXCJ0PVwiKyArbmV3IERhdGUpO2lmKG4ub3Blbih0fHxcIkdFVFwiLHRoaXMucHJlcGFyZVVybCgpK28sITApLFwiUE9TVFwiPT10KXRyeXtuLnNldFJlcXVlc3RIZWFkZXI/bi5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik6bi5jb250ZW50VHlwZT1cInRleHQvcGxhaW5cIn1jYXRjaChpKXt9cmV0dXJuIG59LG8ucHJvdG90eXBlLnNjaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvY2tldC5vcHRpb25zLnNlY3VyZT9cImh0dHBzXCI6XCJodHRwXCJ9LG8uY2hlY2s9ZnVuY3Rpb24odCxuKXt0cnl7aWYoZS51dGlsLnJlcXVlc3QobikpcmV0dXJuITB9Y2F0Y2gobyl7fXJldHVybiExfSxvLnhkb21haW5DaGVjaz1mdW5jdGlvbigpe3JldHVybiBvLmNoZWNrKG51bGwsITApfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvLlRyYW5zcG9ydDptb2R1bGUuZXhwb3J0cyxcInVuZGVmaW5lZFwiIT10eXBlb2YgaW8/aW86bW9kdWxlLnBhcmVudC5leHBvcnRzLHRoaXMpLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtlLlRyYW5zcG9ydC5YSFIuYXBwbHkodGhpcyxhcmd1bWVudHMpfXQuaHRtbGZpbGU9bixlLnV0aWwuaW5oZXJpdChuLGUuVHJhbnNwb3J0LlhIUiksbi5wcm90b3R5cGUubmFtZT1cImh0bWxmaWxlXCIsbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dGhpcy5kb2M9bmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKSx0aGlzLmRvYy5vcGVuKCksdGhpcy5kb2Mud3JpdGUoXCI8aHRtbD48L2h0bWw+XCIpLHRoaXMuZG9jLmNsb3NlKCksdGhpcy5kb2MucGFyZW50V2luZG93LnM9dGhpczt2YXIgdD10aGlzLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NOYW1lPVwic29ja2V0aW9cIix0aGlzLmRvYy5ib2R5LmFwcGVuZENoaWxkKHQpLHRoaXMuaWZyYW1lPXRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksdC5hcHBlbmRDaGlsZCh0aGlzLmlmcmFtZSk7dmFyIG49dGhpcyxvPWUudXRpbC5xdWVyeSh0aGlzLnNvY2tldC5vcHRpb25zLnF1ZXJ5LFwidD1cIisgK25ldyBEYXRlKTt0aGlzLmlmcmFtZS5zcmM9dGhpcy5wcmVwYXJlVXJsKCkrbyxlLnV0aWwub24od2luZG93LFwidW5sb2FkXCIsZnVuY3Rpb24oKXtuLmRlc3Ryb3koKX0pfSxuLnByb3RvdHlwZS5fPWZ1bmN0aW9uKHQsZSl7dGhpcy5vbkRhdGEodCk7dHJ5e3ZhciBuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfWNhdGNoKG8pe319LG4ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpZih0aGlzLmlmcmFtZSl7dHJ5e3RoaXMuaWZyYW1lLnNyYz1cImFib3V0OmJsYW5rXCJ9Y2F0Y2godCl7fXRoaXMuZG9jPW51bGwsdGhpcy5pZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmlmcmFtZSksdGhpcy5pZnJhbWU9bnVsbCxDb2xsZWN0R2FyYmFnZSgpfX0sbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXN0cm95KCksZS5UcmFuc3BvcnQuWEhSLnByb3RvdHlwZS5jbG9zZS5jYWxsKHRoaXMpfSxuLmNoZWNrPWZ1bmN0aW9uKCl7aWYoXCJBY3RpdmVYT2JqZWN0XCJpbiB3aW5kb3cpdHJ5e3ZhciB0PW5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7cmV0dXJuIHQmJmUuVHJhbnNwb3J0LlhIUi5jaGVjaygpfWNhdGNoKG4pe31yZXR1cm4hMX0sbi54ZG9tYWluQ2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS50cmFuc3BvcnRzLnB1c2goXCJodG1sZmlsZVwiKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvLlRyYW5zcG9ydDptb2R1bGUuZXhwb3J0cyxcInVuZGVmaW5lZFwiIT10eXBlb2YgaW8/aW86bW9kdWxlLnBhcmVudC5leHBvcnRzKSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbygpe2UuVHJhbnNwb3J0LlhIUi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaSgpe310W1wieGhyLXBvbGxpbmdcIl09byxlLnV0aWwuaW5oZXJpdChvLGUuVHJhbnNwb3J0LlhIUiksZS51dGlsLm1lcmdlKG8sZS5UcmFuc3BvcnQuWEhSKSxvLnByb3RvdHlwZS5uYW1lPVwieGhyLXBvbGxpbmdcIixvLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gZS5UcmFuc3BvcnQuWEhSLnByb3RvdHlwZS5vcGVuLmNhbGwodCksITF9LG8ucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXs0PT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1pLDIwMD09dGhpcy5zdGF0dXM/KG8ub25EYXRhKHRoaXMucmVzcG9uc2VUZXh0KSxvLmdldCgpKTpvLm9uQ2xvc2UoKSl9ZnVuY3Rpb24gZSgpe3RoaXMub25sb2FkPWksby5vbkRhdGEodGhpcy5yZXNwb25zZVRleHQpLG8uZ2V0KCl9aWYodGhpcy5vcGVuKXt2YXIgbz10aGlzO3RoaXMueGhyPXRoaXMucmVxdWVzdCgpLG4uWERvbWFpblJlcXVlc3QmJnRoaXMueGhyIGluc3RhbmNlb2YgWERvbWFpblJlcXVlc3Q/dGhpcy54aHIub25sb2FkPXRoaXMueGhyLm9uZXJyb3I9ZTp0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9dCx0aGlzLnhoci5zZW5kKG51bGwpfX0sby5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbigpe2lmKGUuVHJhbnNwb3J0LlhIUi5wcm90b3R5cGUub25DbG9zZS5jYWxsKHRoaXMpLHRoaXMueGhyKXt0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9dGhpcy54aHIub25sb2FkPWk7dHJ5e3RoaXMueGhyLmFib3J0KCl9Y2F0Y2godCl7fXRoaXMueGhyPW51bGx9fSxvLnByb3RvdHlwZS5yZWFkeT1mdW5jdGlvbih0LG4pe3ZhciBvPXRoaXM7ZS51dGlsLmRlZmVyKGZ1bmN0aW9uKCl7bi5jYWxsKG8pfSl9LGUudHJhbnNwb3J0cy5wdXNoKFwieGhyLXBvbGxpbmdcIil9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbz9pby5UcmFuc3BvcnQ6bW9kdWxlLmV4cG9ydHMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlvP2lvOm1vZHVsZS5wYXJlbnQuZXhwb3J0cyx0aGlzKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7ZS5UcmFuc3BvcnRbXCJ4aHItcG9sbGluZ1wiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5pbmRleD1lLmoubGVuZ3RoO3ZhciBuPXRoaXM7ZS5qLnB1c2goZnVuY3Rpb24odCl7bi5fKHQpfSl9dFtcImpzb25wLXBvbGxpbmdcIl09bixlLnV0aWwuaW5oZXJpdChuLGUuVHJhbnNwb3J0W1wieGhyLXBvbGxpbmdcIl0pLG4ucHJvdG90eXBlLm5hbWU9XCJqc29ucC1wb2xsaW5nXCIsbi5wcm90b3R5cGUucG9zdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7bygpLGkuc29ja2V0LnNldEJ1ZmZlcighMSl9ZnVuY3Rpb24gbygpe2kuaWZyYW1lJiZpLmZvcm0ucmVtb3ZlQ2hpbGQoaS5pZnJhbWUpO3RyeXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzxpZnJhbWUgbmFtZT1cIicraS5pZnJhbWVJZCsnXCI+Jyl9Y2F0Y2godCl7cz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHMubmFtZT1pLmlmcmFtZUlkfXMuaWQ9aS5pZnJhbWVJZCxpLmZvcm0uYXBwZW5kQ2hpbGQocyksaS5pZnJhbWU9c312YXIgaT10aGlzLHI9ZS51dGlsLnF1ZXJ5KHRoaXMuc29ja2V0Lm9wdGlvbnMucXVlcnksXCJ0PVwiKyArbmV3IERhdGUrXCImaT1cIit0aGlzLmluZGV4KTtpZighdGhpcy5mb3JtKXt2YXIgcyxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpLHA9dGhpcy5pZnJhbWVJZD1cInNvY2tldGlvX2lmcmFtZV9cIit0aGlzLmluZGV4O2MuY2xhc3NOYW1lPVwic29ja2V0aW9cIixjLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixjLnN0eWxlLnRvcD1cIi0xMDAwcHhcIixjLnN0eWxlLmxlZnQ9XCItMTAwMHB4XCIsYy50YXJnZXQ9cCxjLm1ldGhvZD1cIlBPU1RcIixjLnNldEF0dHJpYnV0ZShcImFjY2VwdC1jaGFyc2V0XCIsXCJ1dGYtOFwiKSxhLm5hbWU9XCJkXCIsYy5hcHBlbmRDaGlsZChhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpLHRoaXMuZm9ybT1jLHRoaXMuYXJlYT1hfXRoaXMuZm9ybS5hY3Rpb249dGhpcy5wcmVwYXJlVXJsKCkrcixvKCksdGhpcy5hcmVhLnZhbHVlPXQ7dHJ5e3RoaXMuZm9ybS5zdWJtaXQoKX1jYXRjaCh1KXt9dGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQ/cy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PWkuaWZyYW1lLnJlYWR5U3RhdGUmJm4oKX06dGhpcy5pZnJhbWUub25sb2FkPW4sdGhpcy5zb2NrZXQuc2V0QnVmZmVyKCEwKX0sbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksbz1lLnV0aWwucXVlcnkodGhpcy5zb2NrZXQub3B0aW9ucy5xdWVyeSxcInQ9XCIrICtuZXcgRGF0ZStcIiZpPVwiK3RoaXMuaW5kZXgpO3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksbi5hc3luYz0hMCxuLnNyYz10aGlzLnByZXBhcmVVcmwoKStvLG4ub25lcnJvcj1mdW5jdGlvbigpe3Qub25DbG9zZSgpfTt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4saSksdGhpcy5zY3JpcHQ9bn0sbi5wcm90b3R5cGUuXz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkRhdGEodCksdGhpcy5vcGVuJiZ0aGlzLmdldCgpLHRoaXN9LG4uY2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi54ZG9tYWluQ2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS50cmFuc3BvcnRzLnB1c2goXCJqc29ucC1wb2xsaW5nXCIpfShcInVuZGVmaW5lZFwiIT10eXBlb2YgaW8/aW8uVHJhbnNwb3J0Om1vZHVsZS5leHBvcnRzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbz9pbzptb2R1bGUucGFyZW50LmV4cG9ydHMpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
